do
    ply = game.Players
    plr = ply.LocalPlayer
    Root = plr.Character.HumanoidRootPart
    replicated = game:GetService("ReplicatedStorage")
    Lv = game.Players.LocalPlayer.Data.Level.Value
    TeleportService = game:GetService("TeleportService")
    TW = game:GetService("TweenService")
    Lighting = game:GetService("Lighting")
    Enemies = workspace.Enemies
    vim1 = game:GetService("VirtualInputManager")
    vim2 = game:GetService("VirtualUser")
    TeamSelf = plr.Team
    RunSer = game:GetService("RunService")
    Stats = game:GetService("Stats")
    Energy = plr.Character.Energy.Value
    Boss = {}
    BringConnections = {}
    MaterialList = {}
    NPCList = {}
    shouldTween = false
    SoulGuitar = false
    KenTest = true
    debug = false
    Brazier1 = false
    Brazier2 = false
    Brazier3 = false
    Sec = 0.1
    ClickState = 0
    Num_self = 25
end

repeat
    local start = plr.PlayerGui:WaitForChild("Main"):WaitForChild("Loading") and game:IsLoaded()
    wait()
until start
World1 = game.PlaceId == 2753915549 or game.PlaceId == 85211729168715
World2 = game.PlaceId == 4442272183 or game.PlaceId == 79091703265657
World3 = game.PlaceId == 7449423635 or game.PlaceId == 100117331123089

Sea = World1 or World2 or World3 or game.Players.LocalPlayer:Kick("Not Support Game")
Marines = function()
    replicated.Remotes.CommF_:InvokeServer("SetTeam", "Marines")
end
Pirates = function()
    replicated.Remotes.CommF_:InvokeServer("SetTeam", "Pirates")
end
if World1 then
    Boss = {
        "The Gorilla King",
        "Bobby",
        "The Saw",
        "Yeti",
        "Mob Leader",
        "Vice Admiral",
        "Saber Expert",
        "Warden",
        "Chief Warden",
        "Swan",
        "Magma Admiral",
        "Fishman Lord",
        "Wysper",
        "Thunder God",
        "Cyborg",
        "Ice Admiral",
        "Greybeard"
    }
elseif World2 then
    Boss = {
        "Diamond",
        "Jeremy",
        "Fajita",
        "Don Swan",
        "Smoke Admiral",
        "Awakened Ice Admiral",
        "Tide Keeper",
        "Darkbeard",
        "Cursed Captain",
        "Order"
    }
elseif World3 then
    Boss = {
        "Stone",
        "Hydra Leader",
        "Kilo Admiral",
        "Captain Elephant",
        "Beautiful Pirate",
        "Cake Queen",
        "Longma",
        "Soul Reaper"
    }
end
if World1 then
    MaterialList = {
        "Leather + Scrap Metal",
        "Angel Wings",
        "Magma Ore",
        "Fish Tail"
    }
elseif World2 then
    MaterialList = {
        "Leather + Scrap Metal",
        "Radioactive Material",
        "Ectoplasm",
        "Mystic Droplet",
        "Magma Ore",
        "Vampire Fang"
    }
elseif World3 then
    MaterialList = {
        "Scrap Metal",
        "Demonic Wisp",
        "Conjured Cocoa",
        "Dragon Scale",
        "Gunpowder",
        "Fish Tail",
        "Mini Tusk"
    }
end
local DungeonTables = {
    "Flame",
    "Ice",
    "Quake",
    "Light",
    "Dark",
    "String",
    "Rumble",
    "Magma",
    "Human: Buddha",
    "Sand",
    "Bird: Phoenix",
    "Dough"
}
local RenMon = {
    "Snow Lurker",
    "Arctic Warrior",
    "Hidden Key",
    "Awakened Ice Admiral"
}
local CursedTables = {
    ["Mob"] = "Mythological Pirate",
    ["Mob2"] = "Cursed Skeleton",
    "Hell's Messenger",
    ["Mob3"] = "Cursed Skeleton",
    "Heaven's Guardian"
}
local Past = {
    "Part",
    "SpawnLocation",
    "Terrain",
    "WedgePart",
    "MeshPart"
}
local BartMon = {
    "Swan Pirate",
    "Jeremy"
}
local CitizenTable = {
    "Forest Pirate",
    "Captain Elephant"
}
local Human_v3_Mob = {
    "Fajita",
    "Jeremy",
    "Diamond"
}
local AllBoats = {
    "Beast Hunter",
    "Lantern",
    "Guardian",
    "Grand Brigade",
    "Dinghy",
    "Sloop",
    "The Sentinel"
}
local mastery1 = {
    "Cookie Crafter"
}
local mastery2 = {
    "Reborn Skeleton"
}
local PosMsList = {
    ["Pirate Millionaire"] = CFrame.new(- 712.8272705078125, 98.5770492553711, 5711.9541015625),
    ["Pistol Billionaire"] = CFrame.new(- 723.4331665039062, 147.42906188964844, 5931.9931640625),
    ["Dragon Crew Warrior"] = CFrame.new(7021.50439453125, 55.76270294189453, - 730.1290893554688),
    ["Dragon Crew Archer"] = CFrame.new(6625, 378, 244),
    ["Female Islander"] = CFrame.new(4692.7939453125, 797.9766845703125, 858.8480224609375),
    ["Venomous Assailant"] = CFrame.new(4902, 670, 39),
    ["Marine Commodore"] = CFrame.new(2401, 123, - 7589),
    ["Marine Rear Admiral"] = CFrame.new(3588, 229, - 7085),
    ["Fishman Raider"] = CFrame.new(- 10941, 332, - 8760),
    ["Fishman Captain"] = CFrame.new(- 11035, 332, - 9087),
    ["Forest Pirate"] = CFrame.new(- 13446, 413, - 7760),
    ["Mythological Pirate"] = CFrame.new(- 13510, 584, - 6987),
    ["Jungle Pirate"] = CFrame.new(- 11778, 426, - 10592),
    ["Musketeer Pirate"] = CFrame.new(- 13282, 496, - 9565),
    ["Reborn Skeleton"] = CFrame.new(- 8764, 142, 5963),
    ["Living Zombie"] = CFrame.new(- 10227, 421, 6161),
    ["Demonic Soul"] = CFrame.new(- 9579, 6, 6194),
    ["Posessed Mummy"] = CFrame.new(- 9579, 6, 6194),
    ["Peanut Scout"] = CFrame.new(- 1993, 187, - 10103),
    ["Peanut President"] = CFrame.new(- 2215, 159, - 10474),
    ["Ice Cream Chef"] = CFrame.new(- 877, 118, - 11032),
    ["Ice Cream Commander"] = CFrame.new(- 877, 118, - 11032),
    ["Cookie Crafter"] = CFrame.new(- 2021, 38, - 12028),
    ["Cake Guard"] = CFrame.new(- 2024, 38, - 12026),
    ["Baking Staff"] = CFrame.new(- 1932, 38, - 12848),
    ["Head Baker"] = CFrame.new(- 1932, 38, - 12848),
    ["Cocoa Warrior"] = CFrame.new(95, 73, - 12309),
    ["Chocolate Bar Battler"] = CFrame.new(647, 42, - 12401),
    ["Sweet Thief"] = CFrame.new(116, 36, - 12478),
    ["Candy Rebel"] = CFrame.new(47, 61, - 12889),
    ["Ghost"] = CFrame.new(5251, 5, 1111)
}
EquipWeapon = function(text)
    if not text then
        return
    end
    if plr.Backpack:FindFirstChild(text) then
        plr.Character.Humanoid:EquipTool(plr.Backpack:FindFirstChild(text))
    end
end
weaponSc = function(weapon)
    for __in, v in pairs(plr.Backpack:GetChildren()) do
        if v:IsA("Tool") then
            if v.ToolTip == weapon then
                EquipWeapon(v.Name)
            end
        end
    end
end
hookfunction(require(game:GetService("ReplicatedStorage").Effect.Container.Death), function()
end)
hookfunction(require(game:GetService("ReplicatedStorage"):WaitForChild("GuideModule")).ChangeDisplayedNPC, function()
end)
hookfunction(error, function()
end)
hookfunction(warn, function()
end)
local Rock = workspace:FindFirstChild("Rocks")
if Rock then
    Rock:Destroy()
end
gay = (function()
    local lighting = game:GetService("Lighting")
    local lightingLayers = lighting:FindFirstChild("LightingLayers")
    if lightingLayers and game:GetService("Lighting") and game:GetService("Lighting") then
        local darkFog = lightingLayers:FindFirstChild("DarkFog")
        if darkFog then
            darkFog:Destroy()
        end
    end
    local Water = workspace._WorldOrigin["Foam;"]
    if Water and workspace._WorldOrigin["Foam;"] then
        Water:Destroy()
    end        
end)()
local Attack = {}
Attack.__index = Attack
Attack.Alive = function(model)
    if not model then
        return
    end
    local Humanoid = model:FindFirstChild("Humanoid")
    return Humanoid and Humanoid.Health > 0
end
Attack.Pos = function(model, dist)
    return (Root.Position - mode.Position).Magnitude <= dist
end
Attack.Dist = function(model, dist)
    return (Root.Position - model:FindFirstChild("HumanoidRootPart").Position).Magnitude <= dist
end
Attack.DistH = function(model, dist)
    return (Root.Position - model:FindFirstChild("HumanoidRootPart").Position).Magnitude > dist
end
Attack.Kill = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end

        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        EquipWeapon(_G.SelectWeapon)

        local hrp = model:FindFirstChild("HumanoidRootPart")
        if not hrp then return end

        _tp(hrp.CFrame * CFrame.new(0, _G.DistanceAboveMob, 0))
    end
end
Attack.Kill2 = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end
        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        EquipWeapon(_G.SelectWeapon)
        local Equipped = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
        local ToolTip = Equipped.ToolTip
        if ToolTip == "Blox Fruit" then
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 10, 0) * CFrame.Angles(0, math.rad(90), 0))
        else
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 8) * CFrame.Angles(0, math.rad(180), 0))
        end
        if RandomCFrame then
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 25))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(25, 30, 0))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(- 25, 30, 0))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 25))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(- 25, 30, 0))
        end
    end
end
Attack.KillSea = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end
        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        EquipWeapon(_G.SelectWeapon)
        local Equipped = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
        local ToolTip = Equipped.ToolTip
        if ToolTip == "Blox Fruit" then
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 10, 0) * CFrame.Angles(0, math.rad(90), 0))
        else
            notween(model.HumanoidRootPart.CFrame * CFrame.new(0, 50, 8))
            wait(.85)
            notween(model.HumanoidRootPart.CFrame * CFrame.new(0, 400, 0))
            wait(1)
        end
    end
end
Attack.Sword = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end
        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        weaponSc("Sword")
        _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 0))
        if RandomCFrame then
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 25))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(25, 30, 0))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(- 25, 30, 0))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 25))
            wait(0.1)
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(- 25, 30, 0))
        end
    end
end
Attack.Mas = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end
        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        if model.Humanoid.Health <= HealthM then
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0))
            Useskills("Blox Fruit", "Z")
            Useskills("Blox Fruit", "X")
            Useskills("Blox Fruit", "C")
        else
            weaponSc("Melee")
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 0))
        end
    end
end
Attack.Masgun = function(model, Succes)
    if model and Succes then
        if not model:GetAttribute("Locked") then
            model:SetAttribute("Locked", model.HumanoidRootPart.CFrame)
        end
        PosMon = model:GetAttribute("Locked").Position
        BringEnemy()
        if model.Humanoid.Health <= HealthM then
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 35, 8))
            Useskills("Gun", "Z")
            Useskills("Gun", "X")
        else
            weaponSc("Melee")
            _tp(model.HumanoidRootPart.CFrame * CFrame.new(0, 30, 0))
        end
    end
end
statsSetings = function(Num, value)
    if Num == "Melee" then
        if plr.Data.Points.Value ~= 0 then
            replicated.Remotes.CommF_:InvokeServer("AddPoint", "Melee", value)
        end
    elseif Num == "Defense" then
        if plr.Data.Points.Value ~= 0 then
            replicated.Remotes.CommF_:InvokeServer("AddPoint", "Defense", value)
        end
    elseif Num == "Sword" then
        if plr.Data.Points.Value ~= 0 then
            replicated.Remotes.CommF_:InvokeServer("AddPoint", "Sword", value)
        end
    elseif Num == "Gun" then
        if plr.Data.Points.Value ~= 0 then
            replicated.Remotes.CommF_:InvokeServer("AddPoint", "Gun", value)
        end
    elseif Num == "Devil" then
        if plr.Data.Points.Value ~= 0 then
            replicated.Remotes.CommF_:InvokeServer("AddPoint", "Demon Fruit", value)
        end
    end
end
BringEnemy = function()
    if not _B then
        return
    end
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            if (v.PrimaryPart.Position - PosMon).Magnitude <= 225 then
                v.PrimaryPart.CFrame = CFrame.new(PosMon)
                v.PrimaryPart.CanCollide = true;
                v:FindFirstChild("Humanoid").WalkSpeed = 0;
                v:FindFirstChild("Humanoid").JumpPower = 0;
                if v.Humanoid:FindFirstChild("Animator") then
                    v.Humanoid.Animator:Destroy()
                end;
                plr.SimulationRadius = math.huge
            end
        end
    end                    	
end
Useskills = function(weapon, skill)
    if weapon == "Melee" then
        weaponSc("Melee")
        if skill == "Z" then
            vim1:SendKeyEvent(true, "Z", false, game);
            vim1:SendKeyEvent(false, "Z", false, game);
        elseif skill == "X" then
            vim1:SendKeyEvent(true, "X", false, game);
            vim1:SendKeyEvent(false, "X", false, game);
        elseif skill == "C" then
            vim1:SendKeyEvent(true, "C", false, game);
            vim1:SendKeyEvent(false, "C", false, game);
        end
    elseif weapon == "Sword" then
        weaponSc("Sword")
        if skill == "Z" then
            vim1:SendKeyEvent(true, "Z", false, game);
            vim1:SendKeyEvent(false, "Z", false, game);
        elseif skill == "X" then
            vim1:SendKeyEvent(true, "X", false, game);
            vim1:SendKeyEvent(false, "X", false, game);
        end
    elseif weapon == "Blox Fruit" then
        weaponSc("Blox Fruit")
        if skill == "Z" then
            vim1:SendKeyEvent(true, "Z", false, game);
            vim1:SendKeyEvent(false, "Z", false, game);
        elseif skill == "X" then
            vim1:SendKeyEvent(true, "X", false, game);
            vim1:SendKeyEvent(false, "X", false, game);
        elseif skill == "C" then
            vim1:SendKeyEvent(true, "C", false, game);
            vim1:SendKeyEvent(false, "C", false, game);
        elseif skill == "V" then
            vim1:SendKeyEvent(true, "V", false, game);
            vim1:SendKeyEvent(false, "V", false, game);
        end
    elseif weapon == "Gun" then
        weaponSc("Gun")
        if skill == "Z" then
            vim1:SendKeyEvent(true, "Z", false, game);
            vim1:SendKeyEvent(false, "Z", false, game);
        elseif skill == "X" then
            vim1:SendKeyEvent(true, "X", false, game);
            vim1:SendKeyEvent(false, "X", false, game);
        end
    end
    if weapon == "nil" and skill == "Y" then
        vim1:SendKeyEvent(true, "Y", false, game);
        vim1:SendKeyEvent(false, "Y", false, game);
    end
end
local gg = getrawmetatable(game)
local old = gg.__namecall
setreadonly(gg, false)
gg.__namecall = newcclosure(function(...)
    local method = getnamecallmethod()
    local args = {
        ...
    }    
    if tostring(method) == "FireServer" then
        if tostring(args[1]) == "RemoteEvent" then
            if tostring(args[2]) ~= "true" and tostring(args[2]) ~= "false" then
                if (_G.FarmMastery_G and not SoulGuitar) or (_G.FarmMastery_Dev) or (_G.FarmBlazeEM) or (_G.Prehis_Skills) or (_G.SeaBeast1 or _G.FishBoat or _G.PGB or _G.Leviathan1 or _G.Complete_Trials) or (_G.AimMethod and ABmethod == "AimBots Skill") or (_G.AimMethod and ABmethod == "Auto Aimbots") then
                    args[2] = MousePos
                    return old(unpack(args))
                end
            end
        end
    end
    return old(...)
end)
GetConnectionEnemies = function(a)
    for i, v in pairs(replicated:GetChildren()) do
        if v:IsA("Model") and ((typeof(a) == "table" and table.find(a, v.Name)) or v.Name == a) and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            return v
        end
    end
    for i, v in next, game.Workspace.Enemies:GetChildren() do
        if v:IsA("Model") and ((typeof(a) == "table" and table.find(a, v.Name)) or v.Name == a) and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            return v
        end
    end
end
LowCpu = function()
    local decalsyeeted = true
    local g = game
    local w = g.Workspace
    local l = g.Lighting
    local t = w.Terrain
    t.WaterWaveSize = 0
    t.WaterWaveSpeed = 0
    t.WaterReflectance = 0
    t.WaterTransparency = 0
    l.GlobalShadows = false
    l.FogEnd = 9e9
    l.Brightness = 0
    settings().Rendering.QualityLevel = "Level01"
    for i, v in pairs(g:GetDescendants()) do
        if v:IsA("Part") or v:IsA("Union") or v:IsA("CornerWedgePart") or v:IsA("TrussPart") then
            v.Material = "Plastic"
            v.Reflectance = 0
        elseif v:IsA("Decal") or v:IsA("Texture") and decalsyeeted then
            v.Transparency = 1
        elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
            v.Lifetime = NumberRange.new(0)
        elseif v:IsA("Explosion") then
            v.BlastPressure = 1
            v.BlastRadius = 1
        elseif v:IsA("Fire") or v:IsA("SpotLight") or v:IsA("Smoke") or v:IsA("Sparkles") then
            v.Enabled = false
        elseif v:IsA("MeshPart") then
            v.Material = "Plastic"
            v.Reflectance = 0
            v.TextureID = 10385902758728957
        end
    end
    for i, e in pairs(l:GetChildren()) do
        if e:IsA("BlurEffect") or e:IsA("SunRaysEffect") or e:IsA("ColorCorrectionEffect") or e:IsA("BloomEffect") or e:IsA("DepthOfFieldEffect") then
            e.Enabled = false
        end
    end
end
CheckF = function()
    if GetBP("Dragon-Dragon") or GetBP("Gas-Gas") or GetBP("Yeti-Yeti") or GetBP("Kitsune-Kitsune") or GetBP("T-Rex-T-Rex") then
        return true
    end
end
CheckBoat = function()
    for i, v in pairs(workspace.Boats:GetChildren()) do
        if tostring(v.Owner.Value) == tostring(plr.Name) then
            return v
        end;
    end;
    return false
end;
CheckEnemiesBoat = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if (v.Name == "FishBoat") and v:FindFirstChild("Health").Value > 0 then
            return true
        end;
    end;
    return false
end;
CheckPirateGrandBrigade = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if (v.Name == "PirateGrandBrigade" or v.Name == "PirateBrigade") and v:FindFirstChild("Health").Value > 0 then
            return true
        end
    end
    return false
end
CheckShark = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v.Name == "Shark" and Attack.Alive(v) then
            return true
        end;
    end;
    return false
end;
CheckTerrorShark = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v.Name == "Terrorshark" and Attack.Alive(v) then
            return true
        end;
    end;
    return false
end;
CheckPiranha = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v.Name == "Piranha" and Attack.Alive(v) then
            return true
        end;
    end;
    return false
end;
CheckFishCrew = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if (v.Name == "Fish Crew Member" or v.Name == "Haunted Crew Member") and Attack.Alive(v) then
            return true
        end;
    end;
    return false
end;
CheckHauntedCrew = function()
    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if (v.Name == "Haunted Crew Member") and Attack.Alive(v) then
            return true
        end;
    end;
    return false
end;
CheckSeaBeast = function()
    if workspace.SeaBeasts:FindFirstChild("SeaBeast1") then
        return true
    end;
    return false
end;
CheckLeviathan = function()
    if workspace.SeaBeasts:FindFirstChild("Leviathan") then
        return true
    end;
    return false
end;
UpdStFruit = function()
    for z, x in next, plr.Backpack:GetChildren() do
        StoreFruit = x:FindFirstChild("EatRemote", true)
        if StoreFruit then
            replicated.Remotes.CommF_:InvokeServer("StoreFruit", StoreFruit.Parent:GetAttribute("OriginalName"), plr.Backpack:FindFirstChild(x.Name))
        end
    end
end
collectFruits = function(Succes)
    if Succes then
        local Character = plr.Character
        for _, v1 in pairs(workspace:GetChildren()) do
            if string.find(v1.Name, "Fruit") then
                v1.Handle.CFrame = Character.HumanoidRootPart.CFrame
            end
        end
    end
end
Getmoon = function()
    if World1 then
        return Lighting.FantasySky.MoonTextureId
    elseif World2 then
        return Lighting.FantasySky.MoonTextureId
    elseif World3 then
        return Lighting.Sky.MoonTextureId
    end
end
DropFruits = function()
    for _, v3 in next, plr.Backpack:GetChildren() do
        if string.find(v3.Name, "Fruit") then
            EquipWeapon(v3.Name)
            wait(.1)
            if plr.PlayerGui.Main.Dialogue.Visible == true then
                plr.PlayerGui.Main.Dialogue.Visible = false
            end
            EquipWeapon(v3.Name)
            plr.Character:FindFirstChild(v3.Name).EatRemote:InvokeServer("Drop")
        end
    end
    for a, b2 in pairs(plr.Character:GetChildren()) do
        if string.find(b2.Name, "Fruit") then
            EquipWeapon(b2.Name)
            wait(.1)
            if plr.PlayerGui.Main.Dialogue.Visible == true then
                plr.PlayerGui.Main.Dialogue.Visible = false
            end
            EquipWeapon(b2.Name)
            plr.Character:FindFirstChild(b2.Name).EatRemote:InvokeServer("Drop")
        end
    end
end
GetBP = function(v)
    return plr.Backpack:FindFirstChild(v) or plr.Character:FindFirstChild(v)
end
GetIn = function(Name)
    for _ , v1 in pairs(replicated.Remotes.CommF_:InvokeServer("getInventory")) do
        if type(v1) == "table" then
            if v1.Name == Name or plr.Character:FindFirstChild(Name) or plr.Backpack:FindFirstChild(Name) then
                return true
            end
        end
    end
    return false
end
GetM = function(Name)
    for _, tab in pairs(replicated.Remotes.CommF_:InvokeServer("getInventory")) do
        if type(tab) == "table" then
            if tab.Type == "Material" then
                if tab.Name == Name then
                    return tab.Count
                end
            end
        end
    end
    return 0
end
GetWP = function(nametool)
    for _, v4 in pairs(replicated.Remotes.CommF_:InvokeServer("getInventory")) do
        if type(v4) == "table" then
            if v4.Type == "Sword" then
                if v4.Name == nametool or plr.Character:FindFirstChild(nametool) or plr.Backpack:FindFirstChild(nametool) then
                    return true
                end
            end
        end
    end
    return false
end 
getInfinity_Ability = function(Method, Var)
    if not Root then
        return
    end
    if Method == "Soru" and Var then
        for _, gc in next, getgc() do
            if plr.Character.Soru then
                if ((typeof(gc) == "function") and (getfenv(gc).script == plr.Character.Soru)) then
                    for _, v in next, getupvalues(gc) do
                        if (typeof(v) == "table") then
                            repeat
                                wait(Sec)
                                v.LastUse = 0
                            until not Var or (plr.Character.Humanoid.Health <= 0)
                        end
                    end
                end
            end
        end
    elseif Method == "Energy" and Var then
        plr.Character.Energy.Changed:connect(function()
            if Var then
                plr.Character.Energy.Value = Energy
            end
        end)
    elseif Method == "Observation" and Var then
        local VisionRadius = plr.VisionRadius
        VisionRadius.Value = math.huge
    end
end
Hop = function()
    pcall(function()
        for count = math.random(1, math.random(40, 75)), 100 do
            local remote = replicated.__ServerBrowser:InvokeServer(count)
            for _, v in next, remote do
                if tonumber(v['Count']) < 12 then
                    TeleportService:TeleportToPlaceInstance(game.PlaceId, _)
                end
            end
        end
    end)
end
local block = Instance.new("Part", workspace)
block.Size = Vector3.new(1, 1, 1)
block.Name = "Rip_Indra"
block.Anchored = true
block.CanCollide = false
block.CanTouch = false
block.Transparency = 1
local blockfind = workspace:FindFirstChild(block.Name)
if blockfind and blockfind ~= block then
    blockfind:Destroy()
end
task.spawn(function()
    while task.wait() do
        if block and block.Parent == workspace then
            if shouldTween then
                getgenv().OnFarm = true
            else
                getgenv().OnFarm = false
            end
        else
            getgenv().OnFarm = false
        end
    end
end)
task.spawn(function()
    local a = game.Players.LocalPlayer;
    repeat
        task.wait()
    until a.Character and a.Character.PrimaryPart;
    block.CFrame = a.Character.PrimaryPart.CFrame;
    while task.wait() do
        pcall(function()
            if getgenv().OnFarm then
                if block and block.Parent == workspace then
                    local b = a.Character and a.Character.PrimaryPart;
                    if b and (b.Position - block.Position).Magnitude <= 200 then
                        b.CFrame = block.CFrame
                    else
                        block.CFrame = b.CFrame
                    end
                end;
                local c = a.Character;
                if c then
                    for d, e in pairs(c:GetChildren()) do
                        if e:IsA("BasePart") then
                            e.CanCollide = false
                        end
                    end
                end
            else
                local c = a.Character;
                if c then
                    for d, e in pairs(c:GetChildren()) do
                        if e:IsA("BasePart") then
                            e.CanCollide = true
                        end
                    end
                end
            end
        end)
    end
end)
-- Tabela de configurações (Fácil de acessar pela UI)
_G.Settings = {
    TweenSpeed = 300, -- Altere este valor para mudar a velocidade
    ShouldTween = true
}

_tp = function(target)
    local character = plr.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    local rootPart = character.HumanoidRootPart
    local targetPosition = target.Position
    local distance = (targetPosition - rootPart.Position).Magnitude
    
    -- Usamos _G.Settings.TweenSpeed para definir a duração
    -- Cálculo: Tempo = Distância / Velocidade
    local duration = distance / _G.Settings.TweenSpeed
    
    local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
    local tween = game:GetService("TweenService"):Create(block, tweenInfo, {
        CFrame = target
    })

    if plr.Character.Humanoid.Sit == true then
        block.CFrame = CFrame.new(block.Position.X, target.Y, block.Position.Z)
    end

    tween:Play()

    task.spawn(function()
        while tween.PlaybackState == Enum.PlaybackState.Playing do
            -- Verifica se a variável global de controle ainda permite o tween
            if not _G.Settings.ShouldTween then
                tween:Cancel()
                break
            end
            task.wait(0.1)
        end
    end)
end

TeleportToTarget = function(targetCFrame)
    -- Agora ambas as condições usam a velocidade dinâmica
    _tp(targetCFrame)
end

notween = function(p)
    plr.Character.HumanoidRootPart.CFrame = p
end

function BTP(p)
    local player = game.Players.LocalPlayer
    local humanoidRootPart = player.Character.HumanoidRootPart
    local humanoid = player.Character.Humanoid
    local playerGui = player.PlayerGui.Main
    local targetPosition = p.Position
    local lastPosition = humanoidRootPart.Position
    repeat
        humanoid.Health = 0
        humanoidRootPart.CFrame = p
        playerGui.Quest.Visible = false
        if (humanoidRootPart.Position - lastPosition).Magnitude > 1 then
            lastPosition = humanoidRootPart.Position
            humanoidRootPart.CFrame = p
        end
        task.wait(0.5)
    until (p.Position - humanoidRootPart.Position).Magnitude <= 2000
end
spawn(function()
    while task.wait() do
        pcall(function()
            if _G.SailBoat_Hydra or _G.WardenBoss or _G.AutoFactory or _G.HighestMirage or _G.HCM or _G.PGB or _G.Leviathan1 or _G.UPGDrago or _G.Complete_Trials or _G.TpDrago_Prehis or _G.BuyDrago or _G.AutoFireFlowers or _G.DT_Uzoth or _G.AutoBerry or _G.Prehis_Find or _G.Prehis_Skills or _G.Prehis_DB or _G.Prehis_DE or _G.FarmBlazeEM or _G.Dojoo or _G.CollectPresent or _G.AutoLawKak or _G.TpLab or _G.AutoPhoenixF or _G.AutoFarmChest or _G.AutoHytHallow or _G.LongsWord or _G.BlackSpikey or _G.AutoHolyTorch or _G.TrainDrago or _G.AutoSaber or _G.FarmMastery_Dev or _G.CitizenQuest or _G.AutoEctoplasm or _G.KeysRen or _G.Auto_Rainbow_Haki or _G.obsFarm or _G.AutoBigmom or _G.Doughv2 or _G.AuraBoss or _G.Raiding or _G.Auto_Cavender or _G.TpPly or _G.Bartilo_Quest or _G.Level or _G.FarmEliteHunt or _G.AutoZou or _G.AutoFarm_Bone or getgenv().AutoMaterial or _G.CraftVM or _G.FrozenTP or _G.TPDoor or _G.AcientOne or _G.AutoFarmNear or _G.AutoRaidCastle or _G.DarkBladev3 or _G.AutoFarmRaid or _G.Auto_Cake_Prince or _G.Addealer or _G.TPNpc or _G.TwinHook or _G.FindMirage or _G.FarmChestM or _G.Shark or _G.TerrorShark or _G.Piranha or _G.MobCrew or _G.SeaBeast1 or _G.FishBoat or _G.AutoPole or _G.AutoPoleV2 or _G.Auto_SuperHuman or _G.AutoDeathStep or _G.Auto_SharkMan_Karate or _G.Auto_Electric_Claw or _G.AutoDragonTalon or _G.Auto_Def_DarkCoat or _G.Auto_God_Human or _G.Auto_Tushita or _G.AutoMatSoul or _G.AutoKenVTWO or _G.AutoSerpentBow or _G.AutoFMon or _G.Auto_Soul_Guitar or _G.TPGEAR or _G.AutoSaw or _G.AutoTridentW2 or _G.Auto_StartRaid or _G.AutoEvoRace or _G.AutoGetQuestBounty or _G.MarinesCoat or _G.TravelDres or _G.Defeating or _G.DummyMan or _G.Auto_Yama or _G.Auto_SwanGG or _G.SwanCoat or _G.AutoEcBoss or _G.Auto_Mink or _G.Auto_Human or _G.Auto_Skypiea or _G.Auto_Fish or _G.CDK_TS or _G.CDK_YM or _G.CDK or _G.AutoFarmGodChalice or _G.AutoFistDarkness or _G.AutoMiror or _G.Teleport or _G.AutoKilo or _G.AutoGetUsoap or _G.Praying or _G.TryLucky or _G.AutoColShad or _G.AutoUnHaki or _G.Auto_DonAcces or _G.AutoRipIngay or _G.DragoV3 or _G.DragoV1 or _G.SailBoats or NextIs or _G.FarmGodChalice or _G.IceBossRen or senth or senth2 or _G.Lvthan or _G.beasthunter or _G.DangerLV or _G.Relic123 or _G.tweenKitsune or _G.Collect_Ember or _G.AutofindKitIs or _G.snaguine or _G.TwFruits or _G.tweenKitShrine or _G.Tp_LgS or _G.Tp_MasterA or _G.tweenShrine or _G.FarmMastery_G or _G.FarmMastery_S then
                shouldTween = true
                if not plr.Character.HumanoidRootPart:FindFirstChild("BodyClip") then
                    local Noclip = Instance.new("BodyVelocity")
                    Noclip.Name = "BodyClip"
                    Noclip.Parent = plr.Character.HumanoidRootPart
                    Noclip.MaxForce = Vector3.new(100000, 100000, 100000)
                    Noclip.Velocity = Vector3.new(0, 0, 0)
                end
                for _, no in pairs(plr.Character:GetDescendants()) do
                    if no:IsA("BasePart") then
                        no.CanCollide = false
                    end
                end
            else
                shouldTween = false
                if plr.Character.HumanoidRootPart:FindFirstChild("BodyClip") then
                    plr.Character.HumanoidRootPart:FindFirstChild("BodyClip"):Destroy()
                end
                if plr.Character:FindFirstChild('highlight') then
                    plr.Character:FindFirstChild('highlight'):Destroy()
                end
            end
        end)
    end
end)
QuestB = function()
    if World1 then
        if _G.FindBoss == "The Gorilla King" then
            bMon = "The Gorilla King"
            Qname = "JungleQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 1601.6553955078, 36.85213470459, 153.38809204102)
            PosB = CFrame.new(- 1088.75977, 8.13463783, - 488.559906, - 0.707134247, 0, 0.707079291, 0, 1, 0, - 0.707079291, 0, - 0.707134247)
        elseif _G.FindBoss == "Bobby" then
            bMon = "Bobby"
            Qname = "BuggyQuest1"
            Qdata = 3;
            PosQBoss = CFrame.new(- 1140.1761474609, 4.752049446106, 3827.4057617188)
            PosB = CFrame.new(- 1087.3760986328, 46.949409484863, 4040.1462402344)
        elseif _G.FindBoss == "The Saw" then
            bMon = "The Saw"
            PosB = CFrame.new(- 784.89715576172, 72.427383422852, 1603.5822753906)
        elseif _G.FindBoss == "Yeti" then
            bMon = "Yeti"
            Qname = "SnowQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(1386.8073730469, 87.272789001465, - 1298.3576660156)
            PosB = CFrame.new(1218.7956542969, 138.01184082031, - 1488.0262451172)
        elseif _G.FindBoss == "Mob Leader" then
            bMon = "Mob Leader"
            PosB = CFrame.new(- 2844.7307128906, 7.4180502891541, 5356.6723632813)
        elseif _G.FindBoss == "Vice Admiral" then
            bMon = "Vice Admiral"
            Qname = "MarineQuest2"
            Qdata = 2;
            PosQBoss = CFrame.new(- 5036.2465820313, 28.677835464478, 4324.56640625)
            PosB = CFrame.new(- 5006.5454101563, 88.032081604004, 4353.162109375)
        elseif _G.FindBoss == "Saber Expert" then
            bMon = "Saber Expert"
            PosB = CFrame.new(- 1458.89502, 29.8870335, - 50.633564)
        elseif _G.FindBoss == "Warden" then
            bMon = "Warden"
            Qname = "ImpelQuest"
            Qdata = 1;
            PosB = CFrame.new(5278.04932, 2.15167475, 944.101929, 0.220546961, - 4.49946401e-06, 0.975376427, - 1.95412576e-05, 1, 9.03162072e-06, - 0.975376427, - 2.10519756e-05, 0.220546961)
            PosQBoss = CFrame.new(5191.86133, 2.84020686, 686.438721, - 0.731384635, 0, 0.681965172, 0, 1, 0, - 0.681965172, 0, - 0.731384635)
        elseif _G.FindBoss == "Chief Warden" then
            bMon = "Chief Warden"
            Qname = "ImpelQuest"
            Qdata = 2;
            PosB = CFrame.new(5206.92578, 0.997753382, 814.976746, 0.342041343, - 0.00062915677, 0.939684749, 0.00191645394, 0.999998152, - 2.80422337e-05, - 0.939682961, 0.00181045406, 0.342041939)
            PosQBoss = CFrame.new(5191.86133, 2.84020686, 686.438721, - 0.731384635, 0, 0.681965172, 0, 1, 0, - 0.681965172, 0, - 0.731384635)
        elseif _G.FindBoss == "Swan" then
            bMon = "Swan"
            Qname = "ImpelQuest"
            Qdata = 3;
            PosB = CFrame.new(5325.09619, 7.03906584, 719.570679, - 0.309060812, 0, 0.951042235, 0, 1, 0, - 0.951042235, 0, - 0.309060812)
            PosQBoss = CFrame.new(5191.86133, 2.84020686, 686.438721, - 0.731384635, 0, 0.681965172, 0, 1, 0, - 0.681965172, 0, - 0.731384635)
        elseif _G.FindBoss == "Magma Admiral" then
            bMon = "Magma Admiral"
            Qname = "MagmaQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 5314.6220703125, 12.262420654297, 8517.279296875)
            PosB = CFrame.new(- 5765.8969726563, 82.92064666748, 8718.3046875)
        elseif _G.FindBoss == "Fishman Lord" then
            bMon = "Fishman Lord"
            Qname = "FishmanQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(61122.65234375, 18.497442245483, 1569.3997802734)
            PosB = CFrame.new(61260.15234375, 30.950881958008, 1193.4329833984)
        elseif _G.FindBoss == "Wysper" then
            bMon = "Wysper"
            Qname = "SkyExp1Quest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 7861.947265625, 5545.517578125, - 379.85974121094)
            PosB = CFrame.new(- 7866.1333007813, 5576.4311523438, - 546.74816894531)
        elseif _G.FindBoss == "Thunder God" then
            bMon = "Thunder God"
            Qname = "SkyExp2Quest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 7903.3828125, 5635.9897460938, - 1410.923828125)
            PosB = CFrame.new(- 7994.984375, 5761.025390625, - 2088.6479492188)
        elseif _G.FindBoss == "Cyborg" then
            bMon = "Cyborg"
            Qname = "FountainQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(5258.2788085938, 38.526931762695, 4050.044921875)
            PosB = CFrame.new(6094.0249023438, 73.770050048828, 3825.7348632813)
        elseif _G.FindBoss == "Ice Admiral" then
            bMon = "Ice Admiral"
            Qdata = nil;
            PosQBoss = CFrame.new(1266.08948, 26.1757946, - 1399.57678, - 0.573599219, 0, - 0.81913656, 0, 1, 0, 0.81913656, 0, - 0.573599219)
            PosB = CFrame.new(1266.08948, 26.1757946, - 1399.57678, - 0.573599219, 0, - 0.81913656, 0, 1, 0, 0.81913656, 0, - 0.573599219)
        elseif _G.FindBoss == "Greybeard" then
            bMon = "Greybeard"
            Qdata = nil;
            PosQBoss = CFrame.new(- 5081.3452148438, 85.221641540527, 4257.3588867188)
            PosB = CFrame.new(- 5081.3452148438, 85.221641540527, 4257.3588867188)
        end
    end;
    if World2 then
        if _G.FindBoss == "Diamond" then
            bMon = "Diamond"
            Qname = "Area1Quest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 427.5666809082, 73.313781738281, 1835.4208984375)
            PosB = CFrame.new(- 1576.7166748047, 198.59265136719, 13.724286079407)
        elseif _G.FindBoss == "Jeremy" then
            bMon = "Jeremy"
            Qname = "Area2Quest"
            Qdata = 3;
            PosQBoss = CFrame.new(636.79943847656, 73.413787841797, 918.00415039063)
            PosB = CFrame.new(2006.9261474609, 448.95666503906, 853.98284912109)
        elseif _G.FindBoss == "Fajita" then
            bMon = "Fajita"
            Qname = "MarineQuest3"
            Qdata = 3;
            PosQBoss = CFrame.new(- 2441.986328125, 73.359344482422, - 3217.5324707031)
            PosB = CFrame.new(- 2172.7399902344, 103.32216644287, - 4015.025390625)
        elseif _G.FindBoss == "Don Swan" then
            bMon = "Don Swan"
            PosB = CFrame.new(2286.2004394531, 15.177839279175, 863.8388671875)
        elseif _G.FindBoss == "Smoke Admiral" then
            bMon = "Smoke Admiral"
            Qname = "IceSideQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 5429.0473632813, 15.977565765381, - 5297.9614257813)
            PosB = CFrame.new(- 5275.1987304688, 20.757257461548, - 5260.6669921875)
        elseif _G.FindBoss == "Awakened Ice Admiral" then
            bMon = "Awakened Ice Admiral"
            Qname = "FrostQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(5668.9780273438, 28.519989013672, - 6483.3520507813)
            PosB = CFrame.new(6403.5439453125, 340.29766845703, - 6894.5595703125)
        elseif _G.FindBoss == "Tide Keeper" then
            bMon = "Tide Keeper"
            Qname = "ForgottenQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 3053.9814453125, 237.18954467773, - 10145.0390625)
            PosB = CFrame.new(- 3795.6423339844, 105.88877105713, - 11421.307617188)
        elseif _G.FindBoss == "Darkbeard" then
            bMon = "Darkbeard"
            Qdata = nil;
            PosQBoss = CFrame.new(3677.08203125, 62.751937866211, - 3144.8332519531)
            PosB = CFrame.new(3677.08203125, 62.751937866211, - 3144.8332519531)
        elseif _G.FindBoss == "Cursed Captaim" then
            bMon = "Cursed Captain"
            Qdata = nil;
            PosQBoss = CFrame.new(916.928589, 181.092773, 33422)
            PosB = CFrame.new(916.928589, 181.092773, 33422)
        elseif _G.FindBoss == "Order" then
            bMon = "Order"
            Qdata = nil;
            PosQBoss = CFrame.new(- 6217.2021484375, 28.047645568848, - 5053.1357421875)
            PosB = CFrame.new(- 6217.2021484375, 28.047645568848, - 5053.1357421875)
        end
    end;
    if World3 then
        if _G.FindBoss == "Stone" then
            bMon = "Stone"
            Qname = "PiratePortQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 289.76705932617, 43.819011688232, 5579.9384765625)
            PosB = CFrame.new(- 1027.6512451172, 92.404174804688, 6578.8530273438)
        elseif _G.FindBoss == "Hydra Leader" then
            bMon = "Hydra Leader"
            Qname = "AmazonQuest2"
            Qdata = 3;
            PosQBoss = CFrame.new(5821.89794921875, 1019.0950927734375, - 73.71923065185547)
            PosB = CFrame.new(5821.89794921875, 1019.0950927734375, - 73.71923065185547)
        elseif _G.FindBoss == "Kilo Admiral" then
            bMon = "Kilo Admiral"
            Qname = "MarineTreeIsland"
            Qdata = 3;
            PosQBoss = CFrame.new(2179.3010253906, 28.731239318848, - 6739.9741210938)
            PosB = CFrame.new(2764.2233886719, 432.46154785156, - 7144.4580078125)
        elseif _G.FindBoss == "Captain Elephant" then
            bMon = "Captain Elephant"
            Qname = "DeepForestIsland"
            Qdata = 3;
            PosQBoss = CFrame.new(- 13232.682617188, 332.40396118164, - 7626.01171875)
            PosB = CFrame.new(- 13376.7578125, 433.28689575195, - 8071.392578125)
        elseif _G.FindBoss == "Beautiful Pirate" then
            bMon = "Beautiful Pirate"
            Qname = "DeepForestIsland2"
            Qdata = 3;
            PosQBoss = CFrame.new(- 12682.096679688, 390.88653564453, - 9902.1240234375)
            PosB = CFrame.new(5283.609375, 22.56223487854, - 110.78285217285)
        elseif _G.FindBoss == "Cake Queen" then
            bMon = "Cake Queen"
            Qname = "IceCreamIslandQuest"
            Qdata = 3;
            PosQBoss = CFrame.new(- 819.376709, 64.9259796, - 10967.2832, - 0.766061664, 0, 0.642767608, 0, 1, 0, - 0.642767608, 0, - 0.766061664)
            PosB = CFrame.new(- 678.648804, 381.353943, - 11114.2012, - 0.908641815, 0.00149294338, 0.41757378, 0.00837114919, 0.999857843, 0.0146408929, - 0.417492568, 0.0167988986, - 0.90852499)
        elseif _G.FindBoss == "Longma" then
            bMon = "Longma"
            Qdata = nil;
            PosQBoss = CFrame.new(- 10238.875976563, 389.7912902832, - 9549.7939453125)
            PosB = CFrame.new(- 10238.875976563, 389.7912902832, - 9549.7939453125)
        elseif _G.FindBoss == "Soul Reaper" then
            bMon = "Soul Reaper"
            Qdata = nil;
            PosQBoss = CFrame.new(- 9524.7890625, 315.80429077148, 6655.7192382813)
            PosB = CFrame.new(- 9524.7890625, 315.80429077148, 6655.7192382813)
        end
    end
end
QuestBeta = function()
    local Neta = QuestB()
    return {
        [0] = _G.FindBoss,
        [1] = bMon,
        [2] = Qdata,
        [3] = Qname,
        [4] = PosB
    }  
end
QuestCheck = function()
    local a = game.Players.LocalPlayer.Data.Level.Value
    
    -- Lógica do Mundo 1
    if World1 then
        if a == 1 or a <= 9 then
            if tostring(TeamSelf) == "Marines" then
                Mon = "Trainee"; Qname = "MarineQuest"; Qdata = 1; NameMon = "Trainee"
                PosM = CFrame.new(-2709.679, 24.520, 2104.245)
                PosQ = CFrame.new(-2709.679, 24.520, 2104.245)
            elseif tostring(TeamSelf) == "Pirates" then
                Mon = "Bandit"; Qdata = 1; Qname = "BanditQuest1"; NameMon = "Bandit"
                PosM = CFrame.new(1045.962, 27.002, 1560.820)
                PosQ = CFrame.new(1045.962, 27.002, 1560.820)
            end
        elseif a == 10 or a <= 14 then
            Mon = "Monkey"; Qdata = 1; Qname = "JungleQuest"; NameMon = "Monkey"
            PosQ = CFrame.new(-1598.089, 35.550, 153.377)
            PosM = CFrame.new(-1448.518, 67.853, 11.465)
        elseif a == 15 or a <= 29 then
            Mon = "Gorilla"; Qdata = 2; Qname = "JungleQuest"; NameMon = "Gorilla"
            PosQ = CFrame.new(-1598.089, 35.550, 153.377)
            PosM = CFrame.new(-1129.883, 40.463, -525.423)
        elseif a == 30 or a <= 39 then
            Mon = "Pirate"; Qdata = 1; Qname = "BuggyQuest1"; NameMon = "Pirate"
            PosQ = CFrame.new(-1141.074, 4.100, 3831.549)
            PosM = CFrame.new(-1103.513, 13.752, 3896.091)
        elseif a == 40 or a <= 59 then
            Mon = "Brute"; Qdata = 2; Qname = "BuggyQuest1"; NameMon = "Brute"
            PosQ = CFrame.new(-1141.074, 4.100, 3831.549)
            PosM = CFrame.new(-1140.083, 14.809, 4322.921)
        elseif a == 60 or a <= 74 then
            Mon = "Desert Bandit"; Qdata = 1; Qname = "DesertQuest"; NameMon = "Desert Bandit"
            PosQ = CFrame.new(894.488, 5.140, 4392.433)
            PosM = CFrame.new(924.799, 6.448, 4481.585)
        elseif a == 75 or a <= 89 then
            Mon = "Desert Officer"; Qdata = 2; Qname = "DesertQuest"; NameMon = "Desert Officer"
            PosQ = CFrame.new(894.488, 5.140, 4392.433)
            PosM = CFrame.new(1608.282, 8.614, 4371.007)
        elseif a == 90 or a <= 99 then
            Mon = "Snow Bandit"; Qdata = 1; Qname = "SnowQuest"; NameMon = "Snow Bandit"
            PosQ = CFrame.new(1389.744, 88.151, -1298.907)
            PosM = CFrame.new(1354.347, 87.272, -1393.946)
        elseif a == 100 or a <= 119 then
            Mon = "Snowman"; Qdata = 2; Qname = "SnowQuest"; NameMon = "Snowman"
            PosQ = CFrame.new(1389.744, 88.151, -1298.907)
            PosM = CFrame.new(6241.995, 51.522, -1243.977)
        elseif a == 120 or a <= 149 then
            Mon = "Chief Petty Officer"; Qdata = 1; Qname = "MarineQuest2"; NameMon = "Chief Petty Officer"
            PosQ = CFrame.new(-5039.586, 27.350, 4324.680)
            PosM = CFrame.new(-4881.230, 22.652, 4273.752)
        elseif a == 150 or a <= 174 then
            Mon = "Sky Bandit"; Qdata = 1; Qname = "SkyQuest"; NameMon = "Sky Bandit"
            PosQ = CFrame.new(-4839.530, 716.368, -2619.441)
            PosM = CFrame.new(-4953.207, 295.744, -2899.229)
        elseif a == 175 or a <= 189 then
            Mon = "Dark Master"; Qdata = 2; Qname = "SkyQuest"; NameMon = "Dark Master"
            PosQ = CFrame.new(-4839.530, 716.368, -2619.441)
            PosM = CFrame.new(-5259.844, 391.397, -2229.035)
        elseif a == 190 or a <= 209 then
            Mon = "Prisoner"; Qdata = 1; Qname = "PrisonerQuest"; NameMon = "Prisoner"
            PosQ = CFrame.new(5308.931, 1.655, 475.120)
            PosM = CFrame.new(5098.973, -0.320, 474.237)
        elseif a == 210 or a <= 249 then
            Mon = "Dangerous Prisoner"; Qdata = 2; Qname = "PrisonerQuest"; NameMon = "Dangerous Prisoner"
            PosQ = CFrame.new(5308.931, 1.655, 475.120)
            PosM = CFrame.new(5654.563, 15.633, 866.299)
        elseif a == 250 or a <= 274 then
            Mon = "Toga Warrior"; Qdata = 1; Qname = "ColosseumQuest"; NameMon = "Toga Warrior"
            PosQ = CFrame.new(-1580.046, 6.350, -2986.475)
            PosM = CFrame.new(-1820.214, 51.683, -2740.665)
        elseif a == 275 or a <= 299 then
            Mon = "Gladiator"; Qdata = 2; Qname = "ColosseumQuest"; NameMon = "Gladiator"
            PosQ = CFrame.new(-1580.046, 6.350, -2986.475)
            PosM = CFrame.new(-1292.838, 56.380, -3339.031)
        elseif a == 300 or a <= 324 then
            Mon = "Military Soldier"; Qdata = 1; Qname = "MagmaQuest"; NameMon = "Military Soldier"
            PosQ = CFrame.new(-5313.370, 10.950, 8515.293)
            PosM = CFrame.new(-5411.164, 11.081, 8454.292)
        elseif a == 325 or a <= 374 then
            Mon = "Military Spy"; Qdata = 2; Qname = "MagmaQuest"; NameMon = "Military Spy"
            PosQ = CFrame.new(-5313.370, 10.950, 8515.293)
            PosM = CFrame.new(-5802.868, 86.262, 8828.859)
        elseif a == 375 or a <= 399 then
            Mon = "Fishman Warrior"; Qdata = 1; Qname = "FishmanQuest"; NameMon = "Fishman Warrior"
            PosQ = CFrame.new(61122.652, 18.497, 1569.399)
            PosM = CFrame.new(60878.300, 18.482, 1543.757)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(61163.851, 11.679, 1819.784))
            end
        elseif a == 400 or a <= 449 then
            Mon = "Fishman Commando"; Qdata = 2; Qname = "FishmanQuest"; NameMon = "Fishman Commando"
            PosQ = CFrame.new(61122.652, 18.497, 1569.399)
            PosM = CFrame.new(61922.632, 18.482, 1493.934)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(61163.851, 11.679, 1819.784))
            end
        elseif a == 450 or a <= 474 then
            Mon = "God's Guard"; Qdata = 1; Qname = "SkyExp1Quest"; NameMon = "God's Guard"
            PosQ = CFrame.new(-4721.888, 843.874, -1949.966)
            PosM = CFrame.new(-4710.042, 845.276, -1927.307)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-4607.822, 872.542, -1667.556))
            end
        elseif a == 475 or a <= 524 then
            Mon = "Shanda"; Qdata = 2; Qname = "SkyExp1Quest"; NameMon = "Shanda"
            PosQ = CFrame.new(-7859.098, 5544.190, -381.476)
            PosM = CFrame.new(-7678.489, 5566.403, -497.215)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-7894.617, 5547.141, -380.291))
            end
        elseif a == 525 or a <= 549 then
            Mon = "Royal Squad"; Qdata = 1; Qname = "SkyExp2Quest"; NameMon = "Royal Squad"
            PosQ = CFrame.new(-7906.815, 5634.662, -1411.991)
            PosM = CFrame.new(-7624.252, 5658.133, -1467.354)
        elseif a == 550 or a <= 624 then
            Mon = "Royal Soldier"; Qdata = 2; Qname = "SkyExp2Quest"; NameMon = "Royal Soldier"
            PosQ = CFrame.new(-7906.815, 5634.662, -1411.991)
            PosM = CFrame.new(-7836.753, 5645.664, -1790.623)
        elseif a == 625 or a <= 649 then
            Mon = "Galley Pirate"; Qdata = 1; Qname = "FountainQuest"; NameMon = "Galley Pirate"
            PosQ = CFrame.new(5259.819, 37.350, 4050.029)
            PosM = CFrame.new(5551.021, 78.901, 3930.412)
        elseif a >= 650 then
            Mon = "Galley Captain"; Qdata = 2; Qname = "FountainQuest"; NameMon = "Galley Captain"
            PosQ = CFrame.new(5259.819, 37.350, 4050.029)
            PosM = CFrame.new(5441.951, 42.502, 4950.093)
        end
    
    -- Lógica do Mundo 2
    elseif World2 then
        if a == 700 or a <= 724 then
            Mon = "Raider"; Qdata = 1; Qname = "Area1Quest"; NameMon = "Raider"
            PosQ = CFrame.new(-429.543, 71.769, 1836.181)
            PosM = CFrame.new(-728.326, 52.779, 2345.770)
        elseif a == 725 or a <= 774 then
            Mon = "Mercenary"; Qdata = 2; Qname = "Area1Quest"; NameMon = "Mercenary"
            PosQ = CFrame.new(-429.543, 71.769, 1836.181)
            PosM = CFrame.new(-1004.324, 80.158, 1424.619)
        elseif a == 775 or a <= 799 then
            Mon = "Swan Pirate"; Qdata = 1; Qname = "Area2Quest"; NameMon = "Swan Pirate"
            PosQ = CFrame.new(638.438, 71.769, 918.282)
            PosM = CFrame.new(1068.664, 137.614, 1322.106)
        elseif a == 800 or a <= 874 then
            Mon = "Factory Staff"; Qdata = 2; Qname = "Area2Quest"; NameMon = "Factory Staff"
            PosQ = CFrame.new(632.698, 73.105, 918.666)
            PosM = CFrame.new(73.078, 81.863, -27.470)
        elseif a == 875 or a <= 899 then
            Mon = "Marine Lieutenant"; Qdata = 1; Qname = "MarineQuest3"; NameMon = "Marine Lieutenant"
            PosQ = CFrame.new(-2440.796, 71.714, -3216.068)
            PosM = CFrame.new(-2821.372, 75.897, -3070.089)
        elseif a == 900 or a <= 949 then
            Mon = "Marine Captain"; Qdata = 2; Qname = "MarineQuest3"; NameMon = "Marine Captain"
            PosQ = CFrame.new(-2440.796, 71.714, -3216.068)
            PosM = CFrame.new(-1861.231, 80.176, -3254.697)
        elseif a == 950 or a <= 974 then
            Mon = "Zombie"; Qdata = 1; Qname = "ZombieQuest"; NameMon = "Zombie"
            PosQ = CFrame.new(-5497.061, 47.592, -795.237)
            PosM = CFrame.new(-5657.776, 78.969, -928.687)
        elseif a == 975 or a <= 999 then
            Mon = "Vampire"; Qdata = 2; Qname = "ZombieQuest"; NameMon = "Vampire"
            PosQ = CFrame.new(-5497.061, 47.592, -795.237)
            PosM = CFrame.new(-6037.667, 32.184, -1340.659)
        elseif a == 1000 or a <= 1049 then
            Mon = "Snow Trooper"; Qdata = 1; Qname = "SnowMountainQuest"; NameMon = "Snow Trooper"
            PosQ = CFrame.new(609.858, 400.119, -5372.259)
            PosM = CFrame.new(549.147, 427.387, -5563.698)
        elseif a == 1050 or a <= 1099 then
            Mon = "Winter Warrior"; Qdata = 2; Qname = "SnowMountainQuest"; NameMon = "Winter Warrior"
            PosQ = CFrame.new(609.858, 400.119, -5372.259)
            PosM = CFrame.new(1142.745, 475.639, -5199.416)
        elseif a == 1100 or a <= 1124 then
            Mon = "Lab Subordinate"; Qdata = 1; Qname = "IceSideQuest"; NameMon = "Lab Subordinate"
            PosQ = CFrame.new(-6064.068, 15.242, -4902.978)
            PosM = CFrame.new(-5707.471, 15.951, -4513.392)
        elseif a == 1125 or a <= 1174 then
            Mon = "Horned Warrior"; Qdata = 2; Qname = "IceSideQuest"; NameMon = "Horned Warrior"
            PosQ = CFrame.new(-6064.068, 15.242, -4902.978)
            PosM = CFrame.new(-6341.366, 15.951, -5723.162)
        elseif a == 1175 or a <= 1199 then
            Mon = "Magma Ninja"; Qdata = 1; Qname = "FireSideQuest"; NameMon = "Magma Ninja"
            PosQ = CFrame.new(-5428.031, 15.062, -5299.434)
            PosM = CFrame.new(-5449.672, 76.658, -5808.200)
        elseif a == 1200 or a <= 1249 then
            Mon = "Lava Pirate"; Qdata = 2; Qname = "FireSideQuest"; NameMon = "Lava Pirate"
            PosQ = CFrame.new(-5428.031, 15.062, -5299.434)
            PosM = CFrame.new(-5213.331, 49.737, -4701.451)
        elseif a == 1250 or a <= 1274 then
            Mon = "Ship Deckhand"; Qdata = 1; Qname = "ShipQuest1"; NameMon = "Ship Deckhand"
            PosQ = CFrame.new(1037.801, 125.092, 32911.601)
            PosM = CFrame.new(1212.011, 150.792, 33059.246)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 500 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.212, 126.976, 32852.832))
            end
        elseif a == 1275 or a <= 1299 then
            Mon = "Ship Engineer"; Qdata = 2; Qname = "ShipQuest1"; NameMon = "Ship Engineer"
            PosQ = CFrame.new(1037.801, 125.092, 32911.601)
            PosM = CFrame.new(919.478, 43.544, 32779.968)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 500 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.212, 126.976, 32852.832))
            end
        elseif a == 1300 or a <= 1324 then
            Mon = "Ship Steward"; Qdata = 1; Qname = "ShipQuest2"; NameMon = "Ship Steward"
            PosQ = CFrame.new(968.809, 125.092, 33244.125)
            PosM = CFrame.new(919.438, 129.555, 33436.035)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 500 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.212, 126.976, 32852.832))
            end
        elseif a == 1325 or a <= 1349 then
            Mon = "Ship Officer"; Qdata = 2; Qname = "ShipQuest2"; NameMon = "Ship Officer"
            PosQ = CFrame.new(968.809, 125.092, 33244.125)
            PosM = CFrame.new(1036.017, 181.439, 33315.726)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 500 then
                replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.212, 126.976, 32852.832))
            end
        elseif a == 1350 or a <= 1374 then
            Mon = "Arctic Warrior"; Qdata = 1; Qname = "FrostQuest"; NameMon = "Arctic Warrior"
            PosQ = CFrame.new(5667.658, 26.799, -6486.089)
            PosM = CFrame.new(5966.246, 62.970, -6179.382)
            if _G.Level and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 1000 then
                BTP(PosM)
            end
        elseif a == 1375 or a <= 1424 then
            Mon = "Snow Lurker"; Qdata = 2; Qname = "FrostQuest"; NameMon = "Snow Lurker"
            PosQ = CFrame.new(5667.658, 26.799, -6486.089)
            PosM = CFrame.new(5407.073, 69.194, -6880.880)
        elseif a == 1425 or a <= 1449 then
            Mon = "Sea Soldier"; Qdata = 1; Qname = "ForgottenQuest"; NameMon = "Sea Soldier"
            PosQ = CFrame.new(-3054.444, 235.544, -10142.819)
            PosM = CFrame.new(-3028.223, 64.674, -9775.426)
        elseif a >= 1450 then
            Mon = "Water Fighter"; Qdata = 2; Qname = "ForgottenQuest"; NameMon = "Water Fighter"
            PosQ = CFrame.new(-3054.444, 235.544, -10142.819)
            PosM = CFrame.new(-3352.901, 285.015, -10534.841)
        end

    -- Lógica do Mundo 3
    elseif World3 then
        if a == 1500 or a <= 1524 then
            Mon = "Pirate Millionaire"; Qdata = 1; Qname = "PiratePortQuest"; NameMon = "Pirate Millionaire"
            PosQ = CFrame.new(-712.827, 98.577, 5711.954)
            PosM = CFrame.new(-712.827, 98.577, 5711.954)
        elseif a == 1525 or a <= 1574 then
            Mon = "Pistol Billionaire"; Qdata = 2; Qname = "PiratePortQuest"; NameMon = "Pistol Billionaire"
            PosQ = CFrame.new(-723.433, 147.429, 5931.993)
            PosM = CFrame.new(-723.433, 147.429, 5931.993)
        elseif a == 1575 or a <= 1599 then
            Mon = "Dragon Crew Warrior"; Qdata = 1; Qname = "AmazonQuest"; NameMon = "Dragon Crew Warrior"
            PosQ = CFrame.new(6779.032, 111.168, -801.213)
            PosM = CFrame.new(6779.032, 111.168, -801.213)
        elseif a == 1600 or a <= 1624 then
            Mon = "Dragon Crew Archer"; Qdata = 2; Qname = "AmazonQuest"; NameMon = "Dragon Crew Archer"
            PosQ = CFrame.new(6955.897, 546.665, 309.040)
            PosM = CFrame.new(6955.897, 546.665, 309.040)
        elseif a == 1625 or a <= 1649 then
            Mon = "Hydra Enforcer"; Qdata = 1; Qname = "VenomCrewQuest"; NameMon = "Hydra Enforcer"
            PosQ = CFrame.new(4620.615, 1002.295, 399.086)
            PosM = CFrame.new(4620.615, 1002.295, 399.086)
        elseif a == 1650 or a <= 1699 then
            Mon = "Venomous Assailant"; Qdata = 2; Qname = "VenomCrewQuest"; NameMon = "Venomous Assailant"
            PosQ = CFrame.new(4697.591, 1100.651, 946.401)
            PosM = CFrame.new(4697.591, 1100.651, 946.401)
        elseif a == 1700 or a <= 1724 then
            Mon = "Marine Commodore"; Qdata = 1; Qname = "MarineTreeIsland"; NameMon = "Marine Commodore"
            PosQ = CFrame.new(2180.541, 27.815, -6741.549)
            PosM = CFrame.new(2286.007, 73.133, -7159.809)
        elseif a == 1725 or a <= 1774 then
            Mon = "Marine Rear Admiral"; Qdata = 2; Qname = "MarineTreeIsland"; NameMon = "Marine Rear Admiral"
            PosQ = CFrame.new(2179.988, 28.731, -6740.055)
            PosM = CFrame.new(3656.773, 160.524, -7001.598)
        elseif a == 1775 or a <= 1799 then
            Mon = "Fishman Raider"; Qdata = 1; Qname = "DeepForestIsland3"; NameMon = "Fishman Raider"
            PosQ = CFrame.new(-10581.656, 330.872, -8761.186)
            PosM = CFrame.new(-10407.526, 331.762, -8368.516)
        elseif a == 1800 or a <= 1824 then
            Mon = "Fishman Captain"; Qdata = 2; Qname = "DeepForestIsland3"; NameMon = "Fishman Captain"
            PosQ = CFrame.new(-10581.656, 330.872, -8761.186)
            PosM = CFrame.new(-10994.701, 352.381, -9002.110)
        elseif a == 1825 or a <= 1849 then
            Mon = "Forest Pirate"; Qdata = 1; Qname = "DeepForestIsland"; NameMon = "Forest Pirate"
            PosQ = CFrame.new(-13234.04, 331.488, -7625.401)
            PosM = CFrame.new(-13274.478, 332.378, -7769.580)
        elseif a == 1850 or a <= 1899 then
            Mon = "Mythological Pirate"; Qdata = 2; Qname = "DeepForestIsland"; NameMon = "Mythological Pirate"
            PosQ = CFrame.new(-13234.04, 331.488, -7625.401)
            PosM = CFrame.new(-13680.607, 501.081, -6991.189)
        elseif a == 1900 or a <= 1924 then
            Mon = "Jungle Pirate"; Qdata = 1; Qname = "DeepForestIsland2"; NameMon = "Jungle Pirate"
            PosQ = CFrame.new(-12680.381, 389.971, -9902.019)
            PosM = CFrame.new(-12256.160, 331.738, -10485.836)
        elseif a == 1925 or a <= 1974 then
            Mon = "Musketeer Pirate"; Qdata = 2; Qname = "DeepForestIsland2"; NameMon = "Musketeer Pirate"
            PosQ = CFrame.new(-12680.381, 389.971, -9902.019)
            PosM = CFrame.new(-13457.904, 391.545, -9859.177)
        elseif a == 1975 or a <= 1999 then
            Mon = "Reborn Skeleton"; Qdata = 1; Qname = "HauntedQuest1"; NameMon = "Reborn Skeleton"
            PosQ = CFrame.new(-9479.216, 141.215, 5566.092)
            PosM = CFrame.new(-8763.723, 165.722, 6159.861)
        elseif a == 2000 or a <= 2024 then
            Mon = "Living Zombie"; Qdata = 2; Qname = "HauntedQuest1"; NameMon = "Living Zombie"
            PosQ = CFrame.new(-9479.216, 141.215, 5566.092)
            PosM = CFrame.new(-10144.131, 138.626, 5838.088)
        elseif a == 2025 or a <= 2049 then
            Mon = "Demonic Soul"; Qdata = 1; Qname = "HauntedQuest2"; NameMon = "Demonic Soul"
            PosQ = CFrame.new(-9516.993, 172.017, 6078.465)
            PosM = CFrame.new(-9505.872, 172.104, 6158.993)
        elseif a == 2050 or a <= 2074 then
            Mon = "Posessed Mummy"; Qdata = 2; Qname = "HauntedQuest2"; NameMon = "Posessed Mummy"
            PosQ = CFrame.new(-9516.993, 172.017, 6078.465)
            PosM = CFrame.new(-9582.022, 6.251, 6205.478)
        elseif a == 2075 or a <= 2099 then
            Mon = "Peanut Scout"; Qdata = 1; Qname = "NutsIslandQuest"; NameMon = "Peanut Scout"
            PosQ = CFrame.new(-2104.390, 38.104, -10194.218)
            PosM = CFrame.new(-2143.241, 47.721, -10029.995)
        elseif a == 2100 or a <= 2124 then
            Mon = "Peanut President"; Qdata = 2; Qname = "NutsIslandQuest"; NameMon = "Peanut President"
            PosQ = CFrame.new(-2104.390, 38.104, -10194.218)
            PosM = CFrame.new(-1859.354, 38.103, -10422.429)
        elseif a == 2125 or a <= 2149 then
            Mon = "Ice Cream Chef"; Qdata = 1; Qname = "IceCreamIslandQuest"; NameMon = "Ice Cream Chef"
            PosQ = CFrame.new(-820.648, 65.819, -10965.795)
            PosM = CFrame.new(-872.246, 65.819, -10919.957)
        elseif a == 2150 or a <= 2199 then
            Mon = "Ice Cream Commander"; Qdata = 2; Qname = "IceCreamIslandQuest"; NameMon = "Ice Cream Commander"
            PosQ = CFrame.new(-820.648, 65.819, -10965.795)
            PosM = CFrame.new(-558.061, 112.048, -11290.774)
        elseif a == 2200 or a <= 2224 then
            Mon = "Cookie Crafter"; Qdata = 1; Qname = "CakeQuest1"; NameMon = "Cookie Crafter"
            PosQ = CFrame.new(-2021.320, 37.798, -12028.729)
            PosM = CFrame.new(-2374.136, 37.798, -12125.308)
        elseif a == 2225 or a <= 2249 then
            Mon = "Cake Guard"; Qdata = 2; Qname = "CakeQuest1"; NameMon = "Cake Guard"
            PosQ = CFrame.new(-2021.320, 37.798, -12028.729)
            PosM = CFrame.new(-1598.307, 43.773, -12244.581)
        elseif a == 2250 or a <= 2274 then
            Mon = "Baking Staff"; Qdata = 1; Qname = "CakeQuest2"; NameMon = "Baking Staff"
            PosQ = CFrame.new(-1927.916, 37.798, -12842.539)
            PosM = CFrame.new(-1887.809, 77.618, -12998.350)
        elseif a == 2275 or a <= 2299 then
            Mon = "Head Baker"; Qdata = 2; Qname = "CakeQuest2"; NameMon = "Head Baker"
            PosQ = CFrame.new(-1927.916, 37.798, -12842.539)
            PosM = CFrame.new(-2216.188, 82.884, -12869.293)
        elseif a == 2300 or a <= 2324 then
            Mon = "Cocoa Warrior"; Qdata = 1; Qname = "ChocQuest1"; NameMon = "Cocoa Warrior"
            PosQ = CFrame.new(233.228, 29.876, -12201.233)
            PosM = CFrame.new(-21.553, 80.574, -12352.387)
        elseif a == 2325 or a <= 2349 then
            Mon = "Chocolate Bar Battler"; Qdata = 2; Qname = "ChocQuest1"; NameMon = "Chocolate Bar Battler"
            PosQ = CFrame.new(233.228, 29.876, -12201.233)
            PosM = CFrame.new(582.590, 77.188, -12463.162)
        elseif a == 2350 or a <= 2374 then
            Mon = "Sweet Thief"; Qdata = 1; Qname = "ChocQuest2"; NameMon = "Sweet Thief"
            PosQ = CFrame.new(150.506, 30.693, -12774.502)
            PosM = CFrame.new(165.188, 76.058, -12600.836)
        elseif a == 2375 or a <= 2399 then
            Mon = "Candy Rebel"; Qdata = 2; Qname = "ChocQuest2"; NameMon = "Candy Rebel"
            PosQ = CFrame.new(150.506, 30.693, -12774.502)
            PosM = CFrame.new(134.865, 77.247, -12876.547)
        elseif a == 2400 or a <= 2449 then
            Mon = "Candy Pirate"; Qdata = 1; Qname = "CandyQuest1"; NameMon = "Candy Pirate"
            PosQ = CFrame.new(-1150.040, 20.378, -14446.334)
            PosM = CFrame.new(-1310.500, 26.016, -14562.404)
        elseif a == 2450 or a <= 2474 then
            Mon = "Isle Outlaw"; Qdata = 1; Qname = "TikiQuest1"; NameMon = "Isle Outlaw"
            PosQ = CFrame.new(-16548.816, 55.605, -172.812)
            PosM = CFrame.new(-16479.900, 226.611, -300.311)
        elseif a == 2475 or a <= 2499 then
            Mon = "Island Boy"; Qdata = 2; Qname = "TikiQuest1"; NameMon = "Island Boy"
            PosQ = CFrame.new(-16548.816, 55.605, -172.812)
            PosM = CFrame.new(-16849.396, 192.865, -150.785)
        elseif a == 2500 or a <= 2524 then
            Mon = "Sun-kissed Warrior"; Qdata = 1; Qname = "TikiQuest2"; NameMon = "kissed Warrior"
            PosM = CFrame.new(-16347, 64, 984)
            PosQ = CFrame.new(-16538, 55, 1049)
        elseif a == 2525 or a <= 2550 then
            Mon = "Isle Champion"; Qdata = 2; Qname = "TikiQuest2"; NameMon = "Isle Champion"
            PosQ = CFrame.new(-16541.021, 57.308, 1051.461)
            PosM = CFrame.new(-16602.101, 130.387, 1087.245)
        elseif a == 2551 or a <= 2574 then
            Mon = "Serpent Hunter"; Qdata = 1; Qname = "TikiQuest3"; NameMon = "Serpent Hunter"
            PosQ = CFrame.new(-16679.478, 176.747, 1474.399)
            PosM = CFrame.new(-16679.478, 176.747, 1474.399)
        elseif a >= 2575 and a <= 2599 then
            Mon = "Skull Slayer"
            Qdata = 2; Qname = "TikiQuest3"; NameMon = "Skull Slayer"
            PosQ = CFrame.new(-16759.589, 71.283, 1595.339)
            PosM = CFrame.new(-16759.589, 71.283, 1595.339)

        --[[ INICIO DO BLOCO DA SUBMERGED ISLAND E NOVAS QUESTS ]]--
        elseif a >= 2600 and a <= 2624 then
            PosQ = CFrame.new(10778.875, -2087.724, 9265.183, 0.934, -9.331e-08, -0.355, 9.176e-08, 1, -2.121e-08, 0.355, -1.280e-08, 0.934)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "Reef Bandit"; Qdata = 1; Qname = "SubmergedQuest1"; NameMon = "Reef Bandit"
            PosM = CFrame.new(11019.131, -2146.068, 9342.391)

        elseif a >= 2625 and a <= 2649 then
            PosQ = CFrame.new(10778.875, -2087.724, 9265.183, 0.934, -9.331e-08, -0.355, 9.176e-08, 1, -2.121e-08, 0.355, -1.280e-08, 0.934)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "Coral Pirate"; Qdata = 2; Qname = "SubmergedQuest1"; NameMon = "Coral Pirate"
            PosM = CFrame.new(10808.600, -2030.361, 9364.233)

        elseif a >= 2650 and a <= 2674 then
            PosQ = CFrame.new(10880.685, -2086.200, 10032.624, -0.321, 9.876e-08, -0.946, 7.132e-08, 1, 8.009e-08, 0.946, -4.180e-08, -0.321)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "Sea Chanter"; Qdata = 1; Qname = "SubmergedQuest2"; NameMon = "Sea Chanter"
            PosM = CFrame.new(10671.271, -2057.591, 10047.258)

        elseif a >= 2675 and a <= 2699 then
            PosQ = CFrame.new(10880.685, -2086.200, 10032.624, -0.321, 9.876e-08, -0.946, 7.132e-08, 1, 8.009e-08, 0.946, -4.180e-08, -0.321)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "Ocean Prophet"; Qdata = 2; Qname = "SubmergedQuest2"; NameMon = "Ocean Prophet"
            PosM = CFrame.new(11008.519, -2007.728, 10223.079)

        elseif a >= 2700 and a <= 2724 then
            PosQ = CFrame.new(9640.087, -1992.445, 9613.652, -0.957, 4.119e-08, 0.289, 1.577e-08, 1, -9.029e-08, -0.289, -8.188e-08, -0.957)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "High Disciple"; Qdata = 1; Qname = "SubmergedQuest3"; NameMon = "High Disciple"
            PosM = CFrame.new(9750.416, -1966.938, 9753.360)

        elseif a >= 2725 then
            PosQ = CFrame.new(9640.087, -1992.445, 9613.652, -0.957, 4.119e-08, 0.289, 1.577e-08, 1, -9.029e-08, -0.289, -8.188e-08, -0.957)
            if (_G.Level or getgenv().AutoFarm) and (PosQ.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                _tp(CFrame.new(-16269.704, 25.228, 1373.659))
                task.wait(2)
                local args = {"TravelToSubmergedIsland"}
                game:GetService("ReplicatedStorage").Modules.Net:FindFirstChild("RF/SubmarineWorkerSpeak"):InvokeServer(unpack(args))
                return
            end
            Mon = "Grand Devotee"; Qdata = 2; Qname = "SubmergedQuest3"; NameMon = "Grand Devotee"
            PosM = CFrame.new(9611.705, -1993.471, 9882.688)
        end
    end
end


MaterialMon = function()
    local a = game.Players.LocalPlayer;
    local b = a.Character and a.Character:FindFirstChild("HumanoidRootPart")
    if not b then
        return
    end;
    shouldRequestEntrance = function(c, d)
        local e = (b.Position - c).Magnitude;
        if e >= d then
            replicated.Remotes.CommF_:InvokeServer("requestEntrance", c)
        end
    end;
    if World1 then
        if SelectMaterial == "Angel Wings" then
            MMon = {
                "Shanda",
                "Royal Squad",
                "Royal Soldier",
                "Wysper",
                "Thunder God"
            }
            MPos = CFrame.new(- 4698, 845, - 1912)
            SP = "Default"
            local c = Vector3.new(- 4607.82275, 872.54248, - 1667.55688)
            shouldRequestEntrance(c, 10000)
        elseif SelectMaterial == "Leather + Scrap Metal" then
            MMon = {
                "Brute",
                "Pirate"
            }
            MPos = CFrame.new(- 1145, 15, 4350)
            SP = "Default"
        elseif SelectMaterial == "Magma Ore" then
            MMon = {
                "Military Soldier",
                "Military Spy",
                "Magma Admiral"
            }
            MPos = CFrame.new(- 5815, 84, 8820)
            SP = "Default"
        elseif SelectMaterial == "Fish Tail" then
            MMon = {
                "Fishman Warrior",
                "Fishman Commando",
                "Fishman Lord"
            }
            MPos = CFrame.new(61123, 19, 1569)
            SP = "Default"
            local c = Vector3.new(61163.8515625, 5.342342376708984, 1819.7841796875)
            shouldRequestEntrance(c, 17000)
        end
    elseif World2 then
        if SelectMaterial == "Leather + Scrap Metal" then
            MMon = {
                "Marine Captain"
            }
            MPos = CFrame.new(- 2010.5059814453125, 73.00115966796875, - 3326.620849609375)
            SP = "Default"
        elseif SelectMaterial == "Magma Ore" then
            MMon = {
                "Magma Ninja",
                "Lava Pirate"
            }
            MPos = CFrame.new(- 5428, 78, - 5959)
            SP = "Default"
        elseif SelectMaterial == "Ectoplasm" then
            MMon = {
                "Ship Deckhand",
                "Ship Engineer",
                "Ship Steward",
                "Ship Officer"
            }
            MPos = CFrame.new(911.35827636719, 125.95812988281, 33159.5390625)
            SP = "Default"
            local c = Vector3.new(61163.8515625, 5.342342376708984, 1819.7841796875)
            shouldRequestEntrance(c, 18000)
        elseif SelectMaterial == "Mystic Droplet" then
            MMon = {
                "Water Fighter"
            }
            MPos = CFrame.new(- 3385, 239, - 10542)
            SP = "Default"
        elseif SelectMaterial == "Radioactive Material" then
            MMon = {
                "Factory Staff"
            }
            MPos = CFrame.new(295, 73, - 56)
            SP = "Default"
        elseif SelectMaterial == "Vampire Fang" then
            MMon = {
                "Vampire"
            }
            MPos = CFrame.new(- 6033, 7, - 1317)
            SP = "Default"
        end
    elseif World3 then
        if SelectMaterial == "Scrap Metal" then
            MMon = {
                "Jungle Pirate",
                "Forest Pirate"
            }
            MPos = CFrame.new(- 11975.78515625, 331.7734069824219, - 10620.0302734375)
            SP = "Default"
        elseif SelectMaterial == "Fish Tail" then
            MMon = {
                "Fishman Raider",
                "Fishman Captain"
            }
            MPos = CFrame.new(- 10993, 332, - 8940)
            SP = "Default"
        elseif SelectMaterial == "Conjured Cocoa" then
            MMon = {
                "Chocolate Bar Battler",
                "Cocoa Warrior"
            }
            MPos = CFrame.new(620.6344604492188, 78.93644714355469, - 12581.369140625)
            SP = "Default"
        elseif SelectMaterial == "Dragon Scale" then
            MMon = {
                "Dragon Crew Archer",
                "Dragon Crew Warrior"
            }
            MPos = CFrame.new(6594, 383, 139)
            SP = "Default"
        elseif SelectMaterial == "Gunpowder" then
            MMon = {
                "Pistol Billionaire"
            }
            MPos = CFrame.new(- 84.8556900024414, 85.62061309814453, 6132.0087890625)
            SP = "Default"
        elseif SelectMaterial == "Mini Tusk" then
            MMon = {
                "Mythological Pirate"
            }
            MPos = CFrame.new(- 13545, 470, - 6917)
            SP = "Default"
        elseif SelectMaterial == "Demonic Wisp" then
            MMon = {
                "Demonic Soul"
            }
            MPos = CFrame.new(- 9495.6806640625, 453.58624267578125, 5977.3486328125)
            SP = "Default"
        end
    end
end
QuestNeta = function()
    local Neta = QuestCheck()
    return {
        [1] = Mon,
        [2] = Qdata,
        [3] = Qname,
        [4] = PosM,
        [5] = NameMon,
        [6] = PosQ
    }
end

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/tlredz/Library/refs/heads/main/redz-V5-remake/main.luau"))()

local Window = Library:MakeWindow({
  Title = "Zenith Hub [Beta]",
  SubTitle = "By wz7xwz",
  ScriptFolder = "Zenithbf"
})

local Minimizer = Window:NewMinimizer({
    KeyCode = Enum.KeyCode.LeftControl
})

local MobileButton = Minimizer:CreateMobileMinimizer({
    Image = "rbxassetid://0",
    BackgroundColor3 = Color3.fromRGB(0, 0, 0)
})

MobileButton.Size = UDim2.new(0, 50, 0, 50)

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 6)
corner.Parent = MobileButton

local Info = Window:MakeTab({
  Title = "Discord",
  Icon = "Info"
})

Info:AddDiscordInvite({
	Title = "Zenith Server discord",
	Description = "The official Zenith Hub community — powerful scripts, constant updates, and dedicated support all in one place.",
	Banner = "rbxassetid://", -- You can put an RGB Color: Color3.fromRGB(0, 0, 0)
	Logo = "rbxassetid://",
	Invite = "https://discord.gg/mV2ncyDhM9",
	Members = Undefined, -- Optional
	Online = Undefined, -- Optional
})

local Farming = Window:MakeTab({
  Title = "Main",
  Icon = "home"
})


Farming:AddSection("Global Settings")

local _Weapon = {
    "Melee",
    "Sword",
    "Blox Fruit",
    "Gun"
}
Farming:AddDropdown({
  Name = "Select Weapon",
  Options = _Weapon,
  Default = "Melee",
  Callback = function(Value)
    _G.ChooseWP = Value
  end
})
spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.ChooseWP == "Melee" then
                for _, v in pairs(plr.Backpack:GetChildren()) do
                    if v.ToolTip == "Melee" then
                        if plr.Backpack:FindFirstChild(tostring(v.Name)) then
                            _G.SelectWeapon = v.Name
                        end
                    end
                end
            elseif _G.ChooseWP == "Sword" then
                for _, v in pairs(plr.Backpack:GetChildren()) do
                    if v.ToolTip == "Sword" then
                        if plr.Backpack:FindFirstChild(tostring(v.Name)) then
                            _G.SelectWeapon = v.Name
                        end
                    end
                end
            elseif _G.ChooseWP == "Gun" then
                for _, v in pairs(plr.Backpack:GetChildren()) do
                    if v.ToolTip == "Gun" then
                        if plr.Backpack:FindFirstChild(tostring(v.Name)) then
                            _G.SelectWeapon = v.Name
                        end
                    end
                end
            elseif _G.ChooseWP == "Blox Fruit" then
                for _, v in pairs(plr.Backpack:GetChildren()) do
                    if v.ToolTip == "Blox Fruit" then
                        if plr.Backpack:FindFirstChild(tostring(v.Name)) then
                            _G.SelectWeapon = v.Name
                        end
                    end
                end
            end
        end)
    end
end)

-- UI SIZE DROPDOWN
local UISizes = {
    Small = 0.85,
    Normal = 1.0,
    Large = 1.15
}

Farming:AddDropdown({
    Name = "UI Size",
    Options = {"Small", "Normal", "Large"},
    Default = "Normal",
    Callback = function(Value)
        Library:SetUIScale(UISizes[Value])
    end
})


Farming:AddSection("Farming")


Farming:AddToggle({
  Name = "Auto Farm Level",
  Default = false,
  Callback = function(Value)
    _G.Level = Value
  end
})
spawn(function()
    while wait(Sec) do
        if _G.Level then
            pcall(function()
                -- [CORREÇÃO 1] Definir o Root e Character dentro do loop para funcionar após a morte
                local Character = plr.Character or plr.CharacterAdded:Wait()
                local Root = Character:FindFirstChild("HumanoidRootPart")
                local Humanoid = Character:FindFirstChild("Humanoid")
                
                -- Só executa se o personagem estiver vivo e carregado
                if Root and Humanoid and Humanoid.Health > 0 then
                    
                    local QuestGui = plr.PlayerGui.Main.Quest
                    
                    -- Lógica: Se a Quest NÃO estiver visível (Precisa pegar)
                    if QuestGui.Visible == false then
                        _tp(QuestNeta()[6])
                        
                        -- Verifica a distância para o NPC
                        if (Root.Position - QuestNeta()[6].Position).Magnitude <= 5 then
                            -- [CORREÇÃO 2] Espera 1.3 segundos antes de pegar a quest
                            wait(1.1) 
                            replicated.Remotes.CommF_:InvokeServer("StartQuest", QuestNeta()[3], QuestNeta()[2])
                        end

                    -- Lógica: Se a Quest ESTIVER visível (Verificar se é a certa ou Farmar)
                    elseif QuestGui.Visible == true then
                        local QuestTitle = QuestGui.Container.QuestTitle.Title.Text
                        
                        -- Se a quest atual não for a correta, abandona
                        if not string.find(QuestTitle, QuestNeta()[5]) then
                            replicated.Remotes.CommF_:InvokeServer("AbandonQuest")
                        else
                            -- Se for a quest certa, começa a matar
                            if workspace.Enemies:FindFirstChild(QuestNeta()[1]) then
                                for i, v in pairs(workspace.Enemies:GetChildren()) do
                                    if Attack.Alive(v) then
                                        if v.Name == QuestNeta()[1] then
                                            -- Loop de ataque
                                            repeat
                                                wait()
                                                -- Atualiza o Root dentro do loop de ataque também por segurança
                                                if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                                                     Attack.Kill(v, _G.Level)
                                                else
                                                     break -- Sai do repeat se morrer
                                                end
                                            until not _G.Level or v.Humanoid.Health <= 0 or not v.Parent or QuestGui.Visible == false
                                        end
                                    end
                                end
                            else
                                -- Se o inimigo não existir, vai para o spawn dele
                                _tp(QuestNeta()[4])
                                if replicated:FindFirstChild(QuestNeta()[1]) then
                                    _tp(replicated:FindFirstChild(QuestNeta()[1]).HumanoidRootPart.CFrame * CFrame.new(0, 30, 0))
                                end
                            end
                        end
                    end
                end
            end)
        end
    end
end)


Farming:AddToggle({
    Name = "Auto Farm Nearest",
    Default = false,
    Callback = function(Value)
        _G.AutoFarmNear = Value
    end
})

-- Auto Farm Nearest spawn
spawn(function()
    while wait() do
        pcall(function()
            if _G.AutoFarmNear then
                for i, v in pairs(workspace.Enemies:GetChildren()) do
                    if v:FindFirstChild("Humanoid") or v:FindFirstChild("HumanoidRootPart") then
                        if v.Humanoid.Health > 0 then
                            repeat
                                wait()
                                Attack.Kill(v, _G.AutoFarmNear)
                            until not _G.AutoFarmNear or not v.Parent or v.Humanoid.Health <= 0
                        end
                    end
                end
            end
        end)
    end
end)

Farming:AddSection("Collect")

Farming:AddToggle({
    Name = "Auto Collect Berry",
    Default = false,
    Callback = function(Value)
        _G.AutoBerry = Value
    end
})
spawn(function()
    while wait(Sec) do
        if _G.AutoBerry then
            local CollectionService = game:GetService("CollectionService")
            local Players = game:GetService("Players")
            local Player = Players.LocalPlayer
            local BerryBush = CollectionService:GetTagged("BerryBush")
            local Distance, Nearest = math.huge
            for i = 1, # BerryBush do
                local Bush = BerryBush[i]
                for AttributeName, BerryName in pairs(Bush:GetAttributes()) do
                    if not BerryArray or table.find(BerryArray, BerryName) then
                        _tp(Bush.Parent:GetPivot())
                        for i = 1, # BerryBush do
                            local Bush = BerryBush[i]
                            for AttributeName, BerryName in pairs(Bush:GetChildren()) do
                                if not BerryArray or table.find(BerryArray, BerryName) then
                                    _tp(BerryName.WorldPivot)
                                    fireproximityprompt(BerryName.ProximityPrompt, math.huge)
                                end
                            end
                        end
                    end
                end
            end
        end
    end
end)

Farming:AddToggle({
    Name = "Auto Collect Chest",
    Default = false,
    Callback = function(Value)
        _G.AutoFarmChest = Value
    end
})
spawn(function()
    while task.wait(0.1) do -- checa a cada 0.1s
        if _G.AutoFarmChest then
            pcall(function()
                local CollectionService = game:GetService("CollectionService")
                local Players = game:GetService("Players")
                local Player = Players.LocalPlayer
                local Character = Player.Character or Player.CharacterAdded:Wait()
                if not Character then return end

                local Position = Character:GetPivot().Position
                local Chests = CollectionService:GetTagged("_ChestTagged")
                local Distance, Nearest = math.huge, nil

                for i = 1, #Chests do
                    local Chest = Chests[i]
                    local Magnitude = (Chest:GetPivot().Position - Position).Magnitude
                    if not SelectedIsland or Chest:IsDescendantOf(SelectedIsland) then
                        if not Chest:GetAttribute("IsDisabled") and Magnitude < Distance then
                            Distance = Magnitude
                            Nearest = Chest
                        end
                    end
                end

                if Nearest then
                    _tp(Nearest:GetPivot()) -- teleporta imediatamente
                end
            end)
        end
    end
end)

Farming:AddSection("Raid")

Farming:AddToggle({
    Name = "Auto Factory Raid",
    Default = false,
    Callback = function(Value)
        _G.AutoFactory = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.AutoFactory then
                
                -- só faz algo se a Factory estiver ativa
                if IsFactoryActive() then
                    local v = GetConnectionEnemies("Core")

                    if v then
                        repeat
                            task.wait()
                            EquipWeapon(_G.SelectWeapon)
                            _tp(v.PrimaryPart.CFrame * CFrame.new(0, 0, -5))
                        until v.Humanoid.Health <= 0 or not _G.AutoFactory
                    end
                end

            end
        end)
    end
end)

-- Toggle Auto Raid Castle
Farming:AddToggle({
    Name = "Auto Raid Pirate",
    Default = false,
    Callback = function(Value)
        _G.AutoRaidCastle = Value
    end
})

-- Sistema Auto Raid Castle
spawn(function()
    while task.wait(Sec) do
        if _G.AutoRaidCastle then
            pcall(function()

                local TargetCFrame = CFrame.new(
                    -5496.17432, 313.768921, -2841.53027,
                    0.924894512, 7.37058015e-09, 0.380223751,
                    3.5881019e-08, 1, -1.06665446e-07,
                    -0.380223751, 1.12297109e-07, 0.924894512
                )

                local CheckCFrame = CFrame.new(
                    -5539.3115234375, 313.80053710938, -2972.3723144531
                )

                -- Se estiver perto do Castle
                if (CheckCFrame.Position - Root.Position).Magnitude <= 500 then
                    for _, e in pairs(workspace.Enemies:GetChildren()) do
                        if not _G.AutoRaidCastle then break end

                        if e:FindFirstChild("HumanoidRootPart")
                        and e:FindFirstChild("Humanoid")
                        and e.Humanoid.Health > 0 then

                            if (e.HumanoidRootPart.Position - Root.Position).Magnitude <= 2000 then
                                repeat
                                    task.wait()
                                    G.Kill(e, _G.AutoRaidCastle)
                                until not _G.AutoRaidCastle
                                or not e.Parent
                                or e.Humanoid.Health <= 0
                                or not workspace.Enemies:FindFirstChild(e.Name)
                            end
                        end
                    end

                -- Se NÃO estiver perto, verifica inimigos e teleporta
                else
                    local EnemyList = {
                        "Galley Pirate","Galley Captain","Raider","Mercenary",
                        "Vampire","Zombie","Snow Trooper","Winter Warrior",
                        "Lab Subordinate","Horned Warrior","Magma Ninja","Lava Pirate",
                        "Ship Deckhand","Ship Engineer","Ship Steward","Ship Officer",
                        "Arctic Warrior","Snow Lurker","Sea Soldier","Water Fighter"
                    }

                    for _, n in pairs(replicated:GetChildren()) do
                        if not _G.AutoRaidCastle then break end

                        if table.find(EnemyList, n.Name) then
                            _tp(TargetCFrame)
                            break
                        end
                    end
                end

            end)
        end
    end
end)


Farming:AddSection("Bone")


Farming:AddToggle({
    Name = "Auto Farm Bone",
    Default = false,
    Callback = function(Value)
        _G.AutoFarm_Bone = Value
    end
})

Farming:AddToggle({
    Name = "Accept Quest",
    Default = false,
    Callback = function(Value)
        _G.AcceptQuest = Value
    end
})

Farming:AddToggle({
    Name = "Auto Random Bone",
    Default = false,
    Callback = function(Value)
        _G.Auto_Random_Bone = Value
    end
})

-- Loop de Random Bone
spawn(function()
    while task.wait(1) do
        if _G.Auto_Random_Bone then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Bones", "Buy", 1, 1)
        end
    end
end)

local portalDebounce = false -- Variável para controlar o uso do portal

-- Loop de Farm e Quest
spawn(function()
    while task.wait() do
        if _G.AutoFarm_Bone then
            pcall(function()
                local plr = game.Players.LocalPlayer
                local hrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
                if not hrp then return end

                local QuestUI = plr.PlayerGui.Main.Quest          
                local MOBS = {"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}    
                local PosQ = CFrame.new(-9516.99316, 172.017181, 6078.46533)
                local replicated = game:GetService("ReplicatedStorage")

                -- Verificação de distância extrema
                local distParaQuest = (PosQ.Position - hrp.Position).Magnitude
                
                if distParaQuest > 2000 then
                    if not portalDebounce then
                        portalDebounce = true -- Ativa a trava para não repetir
                        replicated.Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-5097.93164, 316.447021, -3142.66602))
                        task.wait(1.5) -- Espera o tempo solicitado
                    end
                else
                    -- Se já estiver perto (menos de 2000), reseta a trava para o futuro
                    portalDebounce = false
                end

                -- Lógica de Quest  
                if _G.AcceptQuest and not QuestUI.Visible then          
                    local distToNPC = (PosQ.Position - hrp.Position).Magnitude    
                    if distToNPC > 5 then    
                        _tp(PosQ) -- Aqui ele continua indo normal com seu teleporte suave
                    else    
                        task.wait(0.5)  
                        replicated.Remotes.CommF_:InvokeServer("StartQuest", "HauntedQuest2", 1)  
                        task.wait(1)   
                    end    
                else    
                    -- Procura o mob mais próximo da lista  
                    local function GetClosestMob()          
                        local closest, shortest = nil, math.huge          
                        for _, mob in pairs(workspace.Enemies:GetChildren()) do          
                            local isTarget = false  
                            for _, name in pairs(MOBS) do  
                                if mob.Name == name then isTarget = true break end  
                            end  
                              
                            if isTarget and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then          
                                local dist = (mob.PrimaryPart.Position - hrp.Position).Magnitude          
                                if dist < shortest then     
                                    shortest = dist     
                                    closest = mob     
                                end          
                            end          
                        end          
                        return closest          
                    end          

                    local targetMob = GetClosestMob()          
                    if targetMob then          
                        -- Trava no mob até ele morrer
                        repeat  
                            task.wait()  
                            Attack.Kill(targetMob, _G.AutoFarm_Bone)  
                        until not _G.AutoFarm_Bone or not targetMob.Parent or targetMob.Humanoid.Health <= 0  
                    else          
                        -- Se não houver mobs vivos, vai para o spot de spawn  
                        _tp(CFrame.new(-9495.68, 453.58, 5977.34))          
                    end          
                end    
            end)      
        end      
    end
end)



local Travel = Window:MakeTab({
    Name = "Travel",
    Icon = "mappin"
})

Travel:AddSection("Worlds")


-- Seção de Mares
Travel:AddButton({
    Name = "Teleport Sea 1",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelMain")
    end
})

Travel:AddButton({
    Name = "Teleport Sea 2",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelDressrosa")
    end
})

Travel:AddButton({
    Name = "Teleport Sea 3",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelZou")
    end
})

-- Lista de Ilhas (Gera a lista automaticamente)
local Location = {}
for _, e in pairs(workspace._WorldOrigin.Locations:GetChildren()) do
    table.insert(Location, e.Name)
end

Travel:AddSection("Island")

-- Dropdown de Seleção de Ilha
Travel:AddDropdown({
    Name = "Select Island",
    Options = Location,
    Default = false,
    Callback = function(I)
        _G.Island = I
    end,
})

-- Toggle de Teleporte com sua lógica específica
Travel:AddToggle({
    Name = "Teleport to Island",
    Default = false,
    Callback = function(Value)
        _G.Teleport = Value
        
        if Value then
            -- Definindo variáveis do jogador local
            local plr = game.Players.LocalPlayer
            local Character = plr.Character or plr.CharacterAdded:Wait()
            local Root = Character:WaitForChild("HumanoidRootPart")
            
            -- Procurar a ilha selecionada
            local targetIsland = workspace._WorldOrigin.Locations:FindFirstChild(_G.Island)
            
            if targetIsland then
                spawn(function()
                    -- 1. Subida Instantânea (700 studs acima de onde você está agora)
                    Root.CFrame = Root.CFrame * CFrame.new(0, 700, 0)
                    wait(0.1) -- Pequena pausa para o motor físico processar
                    
                    -- 2. Viagem (Mantendo a altura de 700 studs acima do destino)
                    local destination = targetIsland.CFrame * CFrame.new(0, 700, 0)
                    
                    -- Repete o movimento até chegar perto do destino (eixo X e Z)
                    repeat
                        wait()
                        -- Certifique-se que a função _tp existe no seu script
                        if _tp then
                            _tp(destination)
                        else
                            -- Fallback caso _tp não esteja definido:
                            Root.CFrame = destination
                        end
                    until not _G.Teleport or (Root.Position - destination.p).Magnitude < 10
                    
                    -- 3. Descida Instantânea (Teleporta para a superfície da ilha)
                    if _G.Teleport then
                        Root.CFrame = targetIsland.CFrame * CFrame.new(0, 5, 0) -- 5 studs para não bugar no chão
                    end
                    
                    -- 4. Desligar Automático
                    _G.Teleport = false
                    -- Se sua biblioteca suportar SetValue para desligar o botão visualmente:
                    -- self:Set(false) 
                end)
            else
                print("Selecione uma ilha primeiro!")
                _G.Teleport = false
            end
        end
    end,
})


-- Tab Stats
local Stats = Window:MakeTab({
    Title = "Stats",
    Icon = "BarChart2"
})

-- Section: Stats Upgrade
Stats:AddSection("Stats Upgrade")

-- Slider
Stats:AddSlider({
    Name = "Stats Value",
    Min = 0,
    Max = 1000,
    Default = 10,
    Rounding = 1,
    Callback = function(Value)
        pSats = Value
    end
})

-- Auto Melee
Stats:AddToggle({
    Name = "Auto Melee",
    Default = false,
    Callback = function(Value)
        _G.Auto_Melee = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.Auto_Melee then
                statsSetings("Melee", pSats)
            end
        end)
    end
end)

-- Auto Sword
Stats:AddToggle({
    Name = "Auto Swords",
    Default = false,
    Callback = function(Value)
        _G.Auto_Sword = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.Auto_Sword then
                statsSetings("Sword", pSats)
            end
        end)
    end
end)

-- Auto Gun
Stats:AddToggle({
    Name = "Auto Gun",
    Default = false,
    Callback = function(Value)
        _G.Auto_Gun = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.Auto_Gun then
                statsSetings("Gun", pSats)
            end
        end)
    end
end)

-- Auto Blox Fruit
Stats:AddToggle({
    Name = "Auto Blox Fruit",
    Default = false,
    Callback = function(Value)
        _G.Auto_DevilFruit = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.Auto_DevilFruit then
                statsSetings("Devil", pSats)
            end
        end)
    end
end)

-- Auto Defense
Stats:AddToggle({
    Name = "Auto Defense",
    Default = false,
    Callback = function(Value)
        _G.Auto_Defense = Value
    end
})

spawn(function()
    while wait(Sec) do
        pcall(function()
            if _G.Auto_Defense then
                statsSetings("Defense", pSats)
            end
        end)
    end
end)









local Setting = Window:MakeTab({
    Title = "Setting",
    Icon = "Settings"
})

Setting:AddSection("Player Settings")
Setting:AddSlider({
    Name = "Tween Speed",
    Min = 50,          -- Velocidade mínima (mais devagar)
    Max = 1000,        -- Velocidade máxima (mais rápido)
    Default = 300,      -- Valor padrão inicial
    Rounding = 1,      -- Mantém números inteiros
    Callback = function(Value)
        -- Atualiza a velocidade global usada na função _tp
        _G.Settings.TweenSpeed = Value
    end
})

Setting:AddSlider({
    Name = "Distance Above Mob",
    Min = 0,
    Max = 100,
    Default = 20,
    Rounding = 1,
    Callback = function(Value)
        _G.DistanceAboveMob = Value
    end
})

local plr = game.Players.LocalPlayer
local TweenService = game:GetService("TweenService")

-- CONFIG
local BRING_TIME = 3      -- tempo trazendo
local RELEASE_TIME = 5    -- tempo soltando
local RANGE_PLAYER = 200
local RANGE_PULL = 150

-- Tween MUITO lento
local function TweenObject(Object, TargetCFrame, Speed)
    Speed = Speed or 30
    if not Object or not TargetCFrame then return end

    local Distance = (TargetCFrame.Position - Object.Position).Magnitude
    local Time = Distance / Speed

    local tween = TweenService:Create(
        Object,
        TweenInfo.new(Time, Enum.EasingStyle.Linear, Enum.EasingDirection.Out),
        { CFrame = TargetCFrame }
    )
    tween:Play()
end

local function GetMobPosition(MobName)
    local pos = Vector3.zero
    local count = 0

    for _, v in pairs(workspace.Enemies:GetChildren()) do
        if v.Name == MobName
        and v:FindFirstChild("HumanoidRootPart")
        and v:FindFirstChild("Humanoid")
        and v.Humanoid.Health > 0 then
            pos += v.HumanoidRootPart.Position
            count += 1
        end
    end

    if count == 0 then return nil end
    return pos / count
end

local function BringMob()
    local char = plr.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end

    local playerHRP = char.HumanoidRootPart
    local enemies = workspace.Enemies:GetChildren()
    if #enemies == 0 then return end

    local totalpos = {}

    for _, v in pairs(enemies) do
        if not totalpos[v.Name] then
            totalpos[v.Name] = GetMobPosition(v.Name)
        end
    end

    for _, v in pairs(enemies) do
        if v:FindFirstChild("Humanoid")
        and v:FindFirstChild("HumanoidRootPart")
        and v.Humanoid.Health > 0 then

            local hrp = v.HumanoidRootPart
            local distPlayer = (hrp.Position - playerHRP.Position).Magnitude

            if distPlayer <= RANGE_PLAYER then
                local mobPos = totalpos[v.Name]
                if mobPos then
                    local target = CFrame.new(mobPos)
                    local dist = (hrp.Position - target.Position).Magnitude

                    if dist > 6 and dist <= RANGE_PULL then
                        TweenObject(hrp, target, 40)
                        hrp.CanCollide = false
                    end
                end
            end
        end
    end

    pcall(function()
        sethiddenproperty(plr, "SimulationRadius", math.huge)
    end)
end

-- LOOP DE CONTROLE (3s bring / 5s release)
task.spawn(function()
    while task.wait() do
        -- BRING ON
        local t0 = tick()
        while tick() - t0 < BRING_TIME do
            BringMob()
            task.wait(0.2)
        end

        -- RELEASE (não força posição)
        local t1 = tick()
        while tick() - t1 < RELEASE_TIME do
            task.wait()
        end
    end
end)

Setting:AddSection("Settings Farm")



Setting:AddToggle({
    Name = "Auto Attack",
    Default = true,
    Callback = function(Value)
        _G.Seriality = Value
    end
})

local bringMobToggle = false
local BringMobToggle = Setting:AddToggle({
    Name = "Bring Mobs",
    Default = true,
    Callback = function(Value)
        bringMobToggle = Value
        if bringMobToggle then
            warn("⚙️ Bring Mob: Đã bật")
        else
            warn("⛔ Bring Mob: Đã tắt")
        end
    end
})
task.spawn(function()
    while task.wait(0) do
        if bringMobToggle then
            pcall(BringMob)
        end
    end
end)


Setting:AddToggle({
    Name = "Auto Active Buso",
    Default = true,
    Callback = function(Value)
        Boud = Value
    end
})
spawn(function()
    while wait(Sec) do
        pcall(function()
            if Boud then
                local _HasBuso = {
                    "HasBuso",
                    "Buso"
                }
                if not plr.Character:FindFirstChild(_HasBuso[1]) then
                    replicated.Remotes.CommF_:InvokeServer(_HasBuso[2])
                end
            end
        end)
    end
end)

Setting:AddSection("Race")

Setting:AddToggle({
    Name = "Auto Active V3",
    Default = false,
    Callback = function(Value)
        _G.RaceClickAutov3 = Value
    end
})
spawn(function()
    while wait(.2) do
        pcall(function()
            if _G.RaceClickAutov3 then
                repeat
                    replicated.Remotes.CommE:FireServer("ActivateAbility")
                    wait(30)
                until not _G.RaceClickAutov3
            end
        end)
    end
end)

Setting:AddToggle({
    Name = "Auto Active V4",
    Default = false,
    Callback = function(Value)
        _G.RaceClickAutov4 = Value
    end
})
spawn(function()
    while wait(.2) do
        pcall(function()
            if _G.RaceClickAutov4 then
                if plr.Character:FindFirstChild("RaceEnergy") then
                    if plr.Character:FindFirstChild("RaceEnergy").Value == 1 then
                        Useskills("nil", "Y")
                    end
                end
            end
        end)
    end
end)


Setting:AddSection("Other")

Setting:AddToggle({
    Name = "Disable Notify",
    Default = false,
    Callback = function(Value)
        RemoveDamage = Value
    end
})

-- Disable Notify spawn
spawn(function()
    while wait(Sec) do
        pcall(function()
            if RemoveDamage then
                replicated.Assets.GUI.DamageCounter.Enabled = false
                plr.PlayerGui.Notifications.Enabled = false
            else
                replicated.Assets.GUI.DamageCounter.Enabled = true
                plr.PlayerGui.Notifications.Enabled = true
            end
        end)
    end
end)

Setting:AddButton({
  Name = "Redeem All Codes",
  Debounce = 0.5,
  Callback = function()
        local codes = {
            "LIGHTNINGABUSE","1LOSTADMIN","ADMINFIGHT","GIFTING_HOURS","NOMOREHACK",
            "BANEXPLOIT","WildDares","BossBuild","GetPranked","EARN_FRUITS",
            "SUB2GAMERROBOT_RESET1","KITT_RESET","Bignews","CHANDLER","Fudd10",
            "fudd10_v2","Sub2UncleKizaru","FIGHT4FRUIT","kittgaming","TRIPLEABUSE",
            "Sub2CaptainMaui","Sub2Fer999","Enyu_is_Pro","Magicbus","JCWK",
            "Starcodeheo","Bluxxy","SUB2GAMERROBOT_EXP1","Sub2NoobMaster123",
            "Sub2Daigrock","Axiore","TantaiGaming","StrawHatMaine","Sub2OfficialNoobie",
            "TheGreatAce","JULYUPDATE_RESET","ADMINHACKED","SEATROLLING","24NOADMIN",
            "ADMIN_TROLL","NEWTROLL","SECRET_ADMIN","staffbattle","NOEXPLOIT",
            "NOOB2ADMIN","CODESLIDE","fruitconcepts","krazydares"
        }

        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local RemotesFolder = ReplicatedStorage:WaitForChild("Remotes")
        local RedeemRemote = RemotesFolder:FindFirstChild("Redeem")

        if not RedeemRemote then
            warn("Không tìm thấy Remote 'Redeem' trong ReplicatedStorage.Remotes!")
            return
        end

        for _, code in ipairs(codes) do
            task.wait(0)
            pcall(function()
                if RedeemRemote.InvokeServer then
                    RedeemRemote:InvokeServer(code)
                else
                    RedeemRemote:FireServer(code)
                end
                print("Đã thử redeem code:", code)
            end)
        end

        print("✅ Hoàn tất quá trình redeem tất cả code Blox Fruits!")
  end
})



local player = game.Players.LocalPlayer
local function IsEntityAlive(entity)
    if not entity then
        return false
    end
    local humanoid = entity:FindFirstChild("Humanoid")
    return humanoid and humanoid.Health > 0
end
local function GetEnemiesInRange(character, range)
    local enemies = game:GetService("Workspace").Enemies:GetChildren()
    local players = game:GetService("Players"):GetPlayers()
    local targets = {}
    local playerPos = character:GetPivot().Position
    for _, enemy in ipairs(enemies) do
        local rootPart = enemy:FindFirstChild("HumanoidRootPart")
        if rootPart and IsEntityAlive(enemy) then
            local distance = (rootPart.Position - playerPos).Magnitude
            if distance <= range then
                table.insert(targets, enemy)
            end
        end
    end
    for _, otherPlayer in ipairs(players) do
        if otherPlayer ~= player and otherPlayer.Character then
            local rootPart = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            if rootPart and IsEntityAlive(otherPlayer.Character) then
                local distance = (rootPart.Position - playerPos).Magnitude
                if distance <= range then
                    table.insert(targets, otherPlayer.Character)
                end
            end
        end
    end
    return targets
end
function AttackNoCoolDown()
    local player = game:GetService("Players").LocalPlayer
    local character = player.Character
    if not character then
        return
    end
    local equippedWeapon = nil
    for _, item in ipairs(character:GetChildren()) do
        if item:IsA("Tool") then
            equippedWeapon = item
            break
        end
    end
    if not equippedWeapon then
        return
    end
    local enemiesInRange = GetEnemiesInRange(character, 60)
    if # enemiesInRange == 0 then
        return
    end
    local storage = game:GetService("ReplicatedStorage")
    local modules = storage:FindFirstChild("Modules")
    if not modules then
        return
    end
    local attackEvent = storage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterAttack")
    local hitEvent = storage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterHit")
    if not attackEvent or not hitEvent then
        return
    end
    local targets, mainTarget = {}, nil
    for _, enemy in ipairs(enemiesInRange) do
        if not enemy:GetAttribute("IsBoat") then
            local HitboxLimbs = {
                "RightLowerArm",
                "RightUpperArm",
                "LeftLowerArm",
                "LeftUpperArm",
                "RightHand",
                "LeftHand"
            }
            local head = enemy:FindFirstChild(HitboxLimbs[math.random(# HitboxLimbs)]) or enemy.PrimaryPart
            if head then
                table.insert(targets, {
                    enemy,
                    head
                })
                mainTarget = head
            end
        end
    end
    if not mainTarget then
        return
    end
    attackEvent:FireServer(0)
    local playerScripts = player:FindFirstChild("PlayerScripts")
    if not playerScripts then
        return
    end
    local localScript = playerScripts:FindFirstChildOfClass("LocalScript")
    while not localScript do
        playerScripts.ChildAdded:Wait()
        localScript = playerScripts:FindFirstChildOfClass("LocalScript")
    end
    local hitFunction
    if getsenv then
        local success, scriptEnv = pcall(getsenv, localScript)
        if success and scriptEnv then
            hitFunction = scriptEnv._G.SendHitsToServer
        end
    end
    local successFlags, combatRemoteThread = pcall(function()
        return require(modules.Flags).COMBAT_REMOTE_THREAD or false
    end)
    if successFlags and combatRemoteThread and hitFunction then
        hitFunction(mainTarget, targets)
    elseif successFlags and not combatRemoteThread then
        hitEvent:FireServer(mainTarget, targets)
    end
end
CameraShakerR = require(game.ReplicatedStorage.Util.CameraShaker)
CameraShakerR:Stop()
get_Monster = function()
    for a, b in pairs(workspace.Enemies:GetChildren()) do
        local c = b:FindFirstChild("UpperTorso") or b:FindFirstChild("Head")
        if b:FindFirstChild("HumanoidRootPart", true) and c then
            if (b.Head.Position - plr.Character.HumanoidRootPart.Position).Magnitude <= 50 then
                return true, c.Position
            end
        end
    end;
    for a, d in pairs(workspace.SeaBeasts:GetChildren()) do
        if d:FindFirstChild("HumanoidRootPart") and d:FindFirstChild("Health") and d.Health.Value > 0 then
            return true, d.HumanoidRootPart.Position
        end
    end;
    for a, d in pairs(workspace.Enemies:GetChildren()) do
        if d:FindFirstChild("Health") and d.Health.Value > 0 and d:FindFirstChild("VehicleSeat") then
            return true, d.Engine.Position
        end
    end
end
Actived = function()
    local a = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
    for b, c in next, getconnections(a.Activated) do
        if typeof(c.Function) == 'function' then
            getupvalues(c.Function)
        end
    end
end
task.spawn(function()
    RunSer.Heartbeat:Connect(function()
        pcall(function()
            if not _G.Seriality then
                return
            end
            AttackNoCoolDown()
            local Pretool = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
            local ToolTip = Pretool.ToolTip
            local MobAura, Mon = get_Monster()
            if ToolTip == "Blox Fruit" then
                if MobAura then
                    local LeftClickRemote = Pretool:FindFirstChild('LeftClickRemote');
                    if LeftClickRemote then
                        Actived()
                        LeftClickRemote:FireServer(Vector3.new(0.01, - 500, 0.01), 1, true);
                        LeftClickRemote:FireServer(false)
                    end
                end
            end
        end)
    end)
end)
